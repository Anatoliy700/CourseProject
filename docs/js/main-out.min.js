"use strict";var _createClass=function(){function a(t,e){for(var s=0;s<e.length;s++){var a=e[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,e,s){return e&&a(t.prototype,e),s&&a(t,s),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Basket=function(){function e(t){_classCallCheck(this,e),this.settings=t,this.countGoods=0,this.amount=0,this.basketItems=[],this.$productsWrap=null,this.$elemCounter=$("#"+t.idCountGoods),this.$elemTotalPrice=null}return _createClass(e,[{key:"render",value:function(t){this.$productsWrap=$("<div />",{class:this.settings.basketHeaderSettings.classWrapProducts}),this.$elemTotalPrice=$("<span />",{class:this.settings.basketHeaderSettings.classTotalValue});var e=$("<div />",{class:this.settings.basketHeaderSettings.classWrapPriceTotal}).append($("<span />",{class:this.settings.basketHeaderSettings.classTotalDescription,text:"total"})).append(this.$elemTotalPrice),s=$("<div />",{class:this.settings.basketHeaderSettings.classWrapButton}).append($("<button />",{class:this.settings.basketHeaderSettings.classButtonCheckout,text:"Checkout"})).append($("<button />",{class:this.settings.basketHeaderSettings.classButtonGoToCart,text:"Go to cart","data-type":"shopping-cart"}));t.append(this.$productsWrap).append(e).append(s),this.getBasket()}},{key:"getBasket",value:function(o){$.ajax({type:"GET",url:this.settings.pathJsonFile,context:this,success:function(t){this.amount=t.amount;var e=!0,s=!1,a=void 0;try{for(var i,n=t.basket[Symbol.iterator]();!(e=(i=n.next()).done);e=!0){var r=i.value;this.countGoods+=r.quantity,this.basketItems.push(r)}}catch(t){s=!0,a=t}finally{try{!e&&n.return&&n.return()}finally{if(s)throw a}}this.refresh(),o()},error:function(t){console.log("Произошла ошибка при получении данных",t)},dataType:"json"})}},{key:"add",value:function(e,t,s,a){var i={id_product:e,price:s,title:t,src:a,quantity:1},n=this.basketItems.findIndex(function(t){return t.id_product===e});-1===n?this.basketItems.push(i):this.basketItems[n].quantity++,this.countGoods++,this.amount+=s,this.refresh()}},{key:"addQuantity",value:function(s,a){var i=this;this.basketItems.findIndex(function(t){if(t.id_product===s){var e=a-t.quantity;t.quantity+=e,i.countGoods+=e,i.amount+=t.price*e}i.refresh()})}},{key:"remove",value:function(t){for(var e in this.basketItems)if(this.basketItems[e].id_product===t){this.amount-=this.basketItems[e].price,this.countGoods--,1<this.basketItems[e].quantity?this.basketItems[e].quantity--:this.basketItems.splice(e,1),this.refresh();break}}},{key:"removeAllQuantity",value:function(t){for(var e in this.basketItems)if(this.basketItems[e].id_product===t){var s=this.basketItems[e].quantity;this.amount-=this.basketItems[e].price*s,this.countGoods-=s,this.basketItems.splice(e,1),this.refresh();break}}},{key:"clear",value:function(){this.countGoods=0,this.amount=0,this.basketItems=[],this.refresh()}},{key:"setCounterAndTotalPrice",value:function(){var t=this.countGoods;0<t?this.$elemCounter.text(t).addClass("active"):this.$elemCounter.text("").removeClass("active")}},{key:"refresh",value:function(){this.setCounterAndTotalPrice(),this.settings.objectBasketHeader&&this.settings.objectBasketHeader.refresh(),this.settings.objectBasketPage&&this.settings.objectBasketPage.refresh()}}]),e}(),BasketHeader=function(){function e(t){_classCallCheck(this,e),this.linkBasket=t,this.settings=t.settings.basketHeaderSettings,this.objectRunBasket=t.settings.objectRunBasket}return _createClass(e,[{key:"init",value:function(){var e=this,t=$("#"+this.settings.idWrapTopBasket);this.$productsWrap=$("<div />",{class:this.settings.classWrapProducts}),this.$elemTotalPrice=$("<span />",{class:this.settings.classTotalValue});var s=$("<div />",{class:this.settings.classWrapPriceTotal}).append($("<span />",{class:this.settings.classTotalDescription,text:"total"})).append(this.$elemTotalPrice),a=$("<div />",{class:this.settings.classWrapButton}).append($("<button />",{class:this.settings.classButtonCheckout,text:"Checkout"})).append($("<button />",{class:this.settings.classButtonGoToCart,text:"Go to cart","data-type":"shopping-cart"}));t.append(this.$productsWrap).append(s).append(a).on("click","button",function(t){return e.btnClickHandler(t)}),this.refresh()}},{key:"btnClickHandler",value:function(t){this.objectRunBasket.btnClickHandler(t)}},{key:"refresh",value:function(){if(this.$elemTotalPrice.text("$"+this.linkBasket.amount),0===this.linkBasket.basketItems.length)this.$productsWrap.empty().text("Товаров в карзине нет!");else{this.$productsWrap.empty();var t=!0,e=!1,s=void 0;try{for(var a,i=this.linkBasket.basketItems[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var n=a.value;this.$productsWrap.append(new Good(n.id_product,n.title,n.price,n.src,n.quantity).renderForHeader())}}catch(t){e=!0,s=t}finally{try{!t&&i.return&&i.return()}finally{if(e)throw s}}}}}]),e}(),BasketPage=function(){function e(t){_classCallCheck(this,e),this.linkBasket=t,this.settings=t.settings.basketPageSettings,this.objectRunBasket=t.settings.objectRunBasket,this.objectRunBasket=t.settings.objectRunBasket,this.$wrapCart=null,this.$subTotal=null,this.$grandTotal=null}return _createClass(e,[{key:"init",value:function(){var e=this;this.$wrapCart=$("."+this.settings.classWrapCart),this.$subTotal=$("#"+this.settings.idSpanForSubTotal),this.$grandTotal=$("#"+this.settings.idSpanForGrandTotal),$("."+this.settings.classWrapContent).on("click","button",function(t){return e.btnClickHandler(t)}),this.$wrapCart.on("change","input",function(t){return e.inputChangeHandler(t)}),this.refresh()}},{key:"btnClickHandler",value:function(t){this.objectRunBasket.btnClickHandler(t)}},{key:"inputChangeHandler",value:function(t){this.objectRunBasket.btnClickHandler(t)}},{key:"refresh",value:function(){if(this.$subTotal.text("$"+this.linkBasket.amount),this.$grandTotal.text("$"+this.linkBasket.amount),0===this.linkBasket.basketItems.length)this.$wrapCart.empty().addClass(this.settings.classWrapCart+"_empty").text("Товаров в карзине нет!");else{this.$wrapCart.empty();var t=!0,e=!1,s=void 0;try{for(var a,i=this.linkBasket.basketItems[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var n=a.value;this.$wrapCart.append(new Good(n.id_product,n.title,n.price,n.src,n.quantity).renderForPage())}}catch(t){e=!0,s=t}finally{try{!t&&i.return&&i.return()}finally{if(e)throw s}}}}}]),e}(),Good=function(){function n(t,e,s,a,i){_classCallCheck(this,n),this.id=t,this.title=e,this.price=s,this.src=a,this.quantity=i}return _createClass(n,[{key:"renderForHeader",value:function(){return $('<div class="acc__cart__product">\n                    <div class="acc__cart__product__img">\n                      <img src="'+this.src+'" width="72" height="85" alt="Rebox Zane">\n                    </div>\n                    <div class="acc__cart__product__data">\n                      <span class="product__data_head">'+this.title+'</span>\n                      <span class="product__data_quality">\n                        <i class="fa fa-star" aria-hidden="true"></i>\n                        <i class="fa fa-star" aria-hidden="true"></i>\n                        <i class="fa fa-star" aria-hidden="true"></i>\n                        <i class="fa fa-star" aria-hidden="true"></i>\n                        <i class="fa fa-star quality-white" aria-hidden="true"></i>\n                      </span>\n                      <div class="product__data_calculation">\n                        <span class="product__data_number">'+this.quantity+'</span> x <span class="product__data_price">$'+this.price+'</span>\n                      </div>\n                    </div>\n                    <div class="acc__cart__product__del">\n                      <button data-type="del" data-id="'+this.id+'">\n                        <i class="fa fa-times" aria-hidden="true"></i>\n                      </button>\n                    </div>\n                  </div>')}},{key:"renderForPage",value:function(){return $('<div class="shopping-cart" data-id="'+this.id+'">\n                <div class="shopping-cart__product-details shopping-cart__column-first">\n                  <a href="#">\n                    <img src="'+this.src+'" width="100" height="115" alt="Mango People T-shirt">\n                  </a>\n                  <div class="product-details__description">\n                    <a href="#">'+this.title+'</a>\n                    <div>\n                      <div class="option-row">\n                        <span class="option-row__option">Color:</span>\n                        <span class="option-row__value">Red</span>\n                      </div>\n                      <div class="option-row">\n                        <span class="option-row__option">Size:</span>\n                        <span class="option-row__value">Xll</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div class="shopping-cart__unite-price shopping-cart__column-center">\n                  <span class="unite-price">$'+this.price+'</span>\n                </div>\n                <div class="shopping-cart__quantity shopping-cart__column-center">\n                  <input title="quantity" type="text" class="quantity" data-type="quantity" value="'+this.quantity+'" required>\n                </div>\n                <div class="shopping-cart__shipping shopping-cart__column-center">\n                  <span class="shipping">free</span>\n                </div>\n                <div class="shopping-cart__subtotal shopping-cart__column-center">\n                  <span class="subtotal">$'+this.quantity*this.price+'</span>\n                </div>\n                <div class="shopping-cart__action shopping-cart__column-last">\n                  <button data-id="'+this.id+'" data-type="delAll">\n                    <i class="fa fa-times" aria-hidden="true"></i>\n                  </button>\n                </div>\n              </div>')}}]),n}(),basketRun={settings:{classWrapProductItems:"wrap-product-item",classProductItem:"product-item",classProductTitle:"title-item",classProductPrice:"price-val",classProductImage:"product-img",namePageShoppingCart:"shopping-cart",basketSettings:{pathJsonFile:"./json/basket_get.json",idCountGoods:"count-goods",objectRunBasket:null,objectBasketHeader:null,objectBasketPage:null,basketHeaderSettings:{idWrapTopBasket:"wrap-top-basket",classWrapProducts:"acc__cart__products-wrap",classWrapPriceTotal:"acc__cart__price-total",classWrapButton:"acc__cart__buttons",classTotalDescription:"price-total_description",classTotalValue:"price-total_value",idTotalValue:"total-top-basket",classButtonCheckout:"buttons_checkout",classButtonGoToCart:"buttons_go-to-cart",$elemWrapHeaderBasket:null},basketPageSettings:{classWrapContent:"wrap-content",classWrapCart:"wrap-cart",classShoppingCart:"shopping-cart",classUnitePriceForCart:"unite-price",classQuantityForCartInput:"quantity",classSubtotalForCart:"subtotal",idBtnForClearShoppingCart:"clearShoppingCart",idBtnForContinueShopping:"continueShopping",idSpanForSubTotal:"subTotal",idSpanForGrandTotal:"grandTotal",idBtnForCheckout:"proceedToCheckout"}}},$ElemDropBasket:null,basket:null,init:function(){var e=this;(this.settings.basketSettings.objectRunBasket=this).basket=new Basket(this.settings.basketSettings),this.basket.getBasket(function(){(e.settings.basketSettings.objectBasketHeader=new BasketHeader(e.basket)).init(),(e.settings.basketSettings.objectBasketPage=new BasketPage(e.basket)).init()});var t=$("."+this.settings.classWrapProductItems);0<!t.length||(t.on("click","button[data-type = add]",function(t){e.btnClickHandler(t),e.showDialog()}),this.droppInit())},btnClickHandler:function(t){var e=$(t.currentTarget);switch(e.attr("data-type")){case"del":this.removeOfBasket(e);break;case"delAll":this.removeAllQantity(e);break;case"add":this.goodAddToBasket(e.parents("."+this.settings.classProductItem));break;case"clear":this.clearBasket();break;case"quantity":this.goodAddQuantity(e.parents("."+this.settings.basketSettings.basketPageSettings.classShoppingCart));break;case"continue":case"checkout":break;case this.settings.namePageShoppingCart:location.href=this.settings.namePageShoppingCart+".html"}},goodAddToBasket:function(t){var e,s=[parseInt(t.attr("data-id")),t.find("."+this.settings.classProductTitle).text(),parseInt(t.find("."+this.settings.classProductPrice).text()),t.find("."+this.settings.classProductImage).attr("src")];(e=this.basket).add.apply(e,s)},goodAddQuantity:function(t){var e,s=[parseInt(t.attr("data-id")),parseInt(t.find("input.quantity").val())];(e=this.basket).addQuantity.apply(e,s)},removeOfBasket:function(t){this.basket.remove(parseInt(t.attr("data-id")))},removeAllQantity:function(t){this.basket.removeAllQuantity(parseInt(t.attr("data-id")))},clearBasket:function(){var t=this;if(this.basket.countGoods)var e=$("<div />",{text:"Вы действительно хитите очистить корзину?",css:{color:"red"}}).dialog({appendTo:"body",position:{my:"center",at:"center"},title:"Очистить корзину",resizable:!1,modal:!0,width:350,buttons:{"Очистить корзину":function(){t.basket.clear(),e.dialog("close")},Cancel:function(){e.dialog("close")}},close:function(){return e.remove()}})},droppInit:function(){var s=this;this.$ElemDropBasket=$("<div />",{id:"basket"}).appendTo($("body")).append($("<div />",{text:"Для добавления в корзину перетащите суда товар!",class:"dropp-basket-text"})),$(".product-item").draggable({helper:"clone",scope:"good",addClasses:!0,cursorAt:{left:50,top:50},cursor:"pointer",start:function(t,e){e.helper.addClass("ui-drag-activate_good"),s.$ElemDropBasket.addClass("basket-dropp",500)},stop:function(){s.$ElemDropBasket.removeClass("basket-dropp",500)}}),$("#basket").droppable({activeClass:"ui-drag-activate_basket",scope:"good",tolerance:"pointer",drop:function(t,e){s.goodAddToBasket(e.draggable),s.showDialog()}})},showDialog:function(){var t=$("<div />",{text:"Товар добавлен в корзину"}).dialog({appendTo:"body",hide:{effect:"scale",duration:500},position:{my:"center top",at:"center top+50px"},close:function(){return t.remove()}});setTimeout(function(){t.dialog("close")},1e3)}};$(document).ready(function(){return basketRun.init()});var Comment=function(){function a(t,e,s){_classCallCheck(this,a),this.text=s,this.id_comment=t,this.name=e,this.classContainer="comment-item",this.className="comment-item_name",this.classMessage="comment-item_message",this.classDelBtn="comment-item_del-btn",this.classApprovelBtn="comment-item_approve-btn"}return _createClass(a,[{key:"render",value:function(t){var e=$("<div />",{class:this.classContainer,"data-id":this.id_comment,"data-approved":!1}),s=$("<p />",{class:this.className,text:this.name}),a=$("<p />",{class:this.classMessage,text:this.text}),i=$("<button />",{class:this.classDelBtn,"data-id":this.id_comment,"data-type":"del",text:"Удалить"}),n=$("<button />",{class:this.classApprovelBtn,"data-id":this.id_comment,"data-type":"app",text:"Одобрить"});e.append(s).append(a).append(i).append(n).appendTo(t)}}]),a}(),settings={idContainer:"container",idCommentBlock:"comment_wrapper",classCommentApproved:"approved",urlGetAllComments:"json/review.list.json",urlDelComment:"json/review.delete.json",urlApprovalComment:"json/review.submit.json",urlAddComment:"json/review.add.json"},commentBlock={settings:settings,$elCommentBlock:null,arrAllComments:[],init:function(){var e=this;this.$elCommentBlock=$("#"+this.settings.idCommentBlock),$("#"+this.settings.idContainer).on("click","button",function(t){return e.btnClickHandler(t)}),this.ajax({url:this.settings.urlGetAllComments,data:"",success:function(t){t.result&&0===t.result?console.error("Ошибка! Ответ от сервера: "+t.error_message):(e.arrAllComments=t.comments,e.render())}})},render:function(){if(0<this.arrAllComments.length){var t=!0,e=!1,s=void 0;try{for(var a,i=this.arrAllComments[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var n=a.value;new Comment(n.id_comment,n.name,n.text).render(this.$elCommentBlock)}}catch(t){e=!0,s=t}finally{try{!t&&i.return&&i.return()}finally{if(e)throw s}}}},btnClickHandler:function(t){"del"===t.target.dataset.type?this.remove(t.target):"app"===t.target.dataset.type?this.approve(t.target):"add"===t.target.dataset.type&&(t.preventDefault(),this.add(t.target))},approve:function(i){var n=this;this.ajax({url:this.settings.urlApprovalComment,data:{id_comment:i.dataset.id},success:function(t){var e,s,a;s=i,a=n,(e=t).result&&1===e.result?($(s).parent(".comment-item").addClass(a.settings.classCommentApproved).attr("data-approved",!0),$(s).remove()):0===e.result&&alert("Сервер вернул ошибку: "+e.error_message)}})},remove:function(a){this.ajax({url:this.settings.urlDelComment,data:{id_comment:a.dataset.id},success:function(t){var e,s;s=a,(e=t).result&&1===e.result?$(s).parent(".comment-item").remove():0===e.result&&alert("Сервер вернул ошибку: "+e.error_message)}})},add:function(t){var i=this;if(validateForm){if(!validateForm.startValidate($(t).parents("form")))return;$(t).parents("form").find("."+validateForm.classValidateInput).removeClass(validateForm.classValidateInput)}var n=$(t).siblings("#nameUser"),r=$(t).siblings("#commentUser"),o=n.val(),l=r.val();if(o&&l){var c=Math.floor(100*Math.random()*o.length);this.ajax({url:this.settings.urlAddComment,data:{id_user:c,name:o,text:l},success:function(t){var e,s,a;e=t,s=i.$elCommentBlock,a=i.arrAllComments,e.result&&1===e.result?(new Comment(c,o,l).render(s),a.push({id_comment:c,name:o,text:l}),n.val(""),r.val("")):0===e.result&&alert("Сервер вернул ошибку: "+e.error_message)}})}},ajax:function(t){$.ajax({url:t.url,type:"GET",dataType:"json",data:t.data,success:t.success,error:function(t,e,s){return console.error(e,s)}})}},validateForm={idInputName:"nameUser",idInputPhone:"phone",idInputEmail:"email",idInputMessage:"commentUser",idBtnSubmit:"btnAddComment",classElemOutErr:"error-message",classNoValidateInput:"error-input",classValidateInput:"success-input",errorMessage:{nameUser:"Имя должно содержать только буквы",phone:'Телефон должен быть в формате "+7(000)000-0000"',email:"Не корректный email",commentUser:"Вы забыли написать комментарий"},regExpName:/^[a-zа-яё]{2,}$/i,regExpPhone:/^\+\d\(\d{3}\)\d{3}-\d{4}$/,regExpEmail:/^[a-z0-9-_.]+@[a-z]+.[a-z]{2,4}$/i,regExpMessage:/[\wа-яё]{3,}/,startValidate:function(t){var e=$(t).find("input, textarea"),s=!0,a=!0,i=!1,n=void 0;try{for(var r,o=e[Symbol.iterator]();!(a=(r=o.next()).done);a=!0){var l=r.value;if(l.id!==this.idBtnSubmit)this.validateInput(l)?this.outMessageFailValidate(l,!0):(this.outMessageFailValidate(l),s=!1)}}catch(t){i=!0,n=t}finally{try{!a&&o.return&&o.return()}finally{if(i)throw n}}return s},validateInput:function(t){switch(t.id){case this.idInputName:return this.regExpName.test(t.value.trim());case this.idInputPhone:return this.regExpPhone.test(t.value.trim());case this.idInputEmail:return this.regExpEmail.test(t.value.trim());case this.idInputMessage:return this.regExpMessage.test(t.value.trim())}},outMessageFailValidate:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],s=document.getElementById("error-"+t.id);e?(s&&s.parentElement.removeChild(s),t.classList.remove(this.classNoValidateInput),t.classList.add(this.classValidateInput),t.value=t.value.trim()):(s||((s=document.createElement("div")).id="error-"+t.id,s.classList.add(this.classElemOutErr),t.parentElement.insertBefore(s,t.nextElementSibling)),t.classList.remove(this.classValidateInput),t.classList.add(this.classNoValidateInput),s.innerText="- "+this.errorMessage[t.id],t.value="",$(t).effect("bounce"))}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhc2tldC9CYXNrZXQuanMiLCJiYXNrZXQvQmFza2V0SGVhZGVyLmpzIiwiYmFza2V0L0Jhc2tldFBhZ2UuanMiLCJiYXNrZXQvR29vZC5qcyIsImJhc2tldC9tYWluLWJhc2tldC5qcyIsImNvbW1lbnQvQ29tbWVudC5qcyIsImNvbW1lbnQvY29tbWVudEJsb2NrLmpzIiwiY29tbWVudC92YWxpZGF0ZUZvcm0uanMiXSwibmFtZXMiOlsiQmFza2V0IiwiYmFza2V0U2V0dGluZ3MiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwic2V0dGluZ3MiLCJjb3VudEdvb2RzIiwiYW1vdW50IiwiYmFza2V0SXRlbXMiLCIkcHJvZHVjdHNXcmFwIiwiJGVsZW1Db3VudGVyIiwiJCIsImlkQ291bnRHb29kcyIsIiRlbGVtVG90YWxQcmljZSIsIiRqUXVlcnlFbGVtZW50IiwiY2xhc3MiLCJiYXNrZXRIZWFkZXJTZXR0aW5ncyIsImNsYXNzV3JhcFByb2R1Y3RzIiwiY2xhc3NUb3RhbFZhbHVlIiwiJHByaWNlVG90YWxXcmFwIiwiY2xhc3NXcmFwUHJpY2VUb3RhbCIsImFwcGVuZCIsImNsYXNzVG90YWxEZXNjcmlwdGlvbiIsInRleHQiLCIkYnV0dG9uc1dyYXAiLCJjbGFzc1dyYXBCdXR0b24iLCJjbGFzc0J1dHRvbkNoZWNrb3V0IiwiY2xhc3NCdXR0b25Hb1RvQ2FydCIsImRhdGEtdHlwZSIsImdldEJhc2tldCIsImNhbGxiYWNrIiwiYWpheCIsInR5cGUiLCJ1cmwiLCJwYXRoSnNvbkZpbGUiLCJjb250ZXh0Iiwic3VjY2VzcyIsImRhdGEiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uIiwiX2RpZEl0ZXJhdG9yRXJyb3IiLCJfaXRlcmF0b3JFcnJvciIsInVuZGVmaW5lZCIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwiYmFza2V0IiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJuZXh0IiwiZG9uZSIsIml0ZW0iLCJ2YWx1ZSIsInF1YW50aXR5IiwicHVzaCIsImVyciIsInJldHVybiIsInJlZnJlc2giLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJkYXRhVHlwZSIsImlkX3Byb2R1Y3QiLCJ0aXRsZSIsInByaWNlIiwic3JjIiwiYmFza2V0TmV3SXRlbSIsImluZCIsImZpbmRJbmRleCIsImVsZW0iLCJfdGhpcyIsImFkZFF0IiwiaWRQcm9kdWN0IiwiYXJySW5kIiwic3BsaWNlIiwiYWxsUXQiLCJjb3VudCIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJzZXRDb3VudGVyQW5kVG90YWxQcmljZSIsIm9iamVjdEJhc2tldEhlYWRlciIsIm9iamVjdEJhc2tldFBhZ2UiLCJCYXNrZXRIZWFkZXIiLCJsaW5rQmFza2V0Iiwib2JqZWN0UnVuQmFza2V0IiwiX3RoaXMyIiwiJGVsZW1XcmFwSGVhZGVyQmFza2V0IiwiaWRXcmFwVG9wQmFza2V0Iiwib24iLCJldmVudCIsImJ0bkNsaWNrSGFuZGxlciIsImxlbmd0aCIsImVtcHR5IiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIiLCJfZGlkSXRlcmF0b3JFcnJvcjIiLCJfaXRlcmF0b3JFcnJvcjIiLCJfc3RlcDIiLCJfaXRlcmF0b3IyIiwiR29vZCIsInJlbmRlckZvckhlYWRlciIsIkJhc2tldFBhZ2UiLCJiYXNrZXRQYWdlU2V0dGluZ3MiLCIkd3JhcENhcnQiLCIkc3ViVG90YWwiLCIkZ3JhbmRUb3RhbCIsIl90aGlzMyIsImNsYXNzV3JhcENhcnQiLCJpZFNwYW5Gb3JTdWJUb3RhbCIsImlkU3BhbkZvckdyYW5kVG90YWwiLCJjbGFzc1dyYXBDb250ZW50IiwiaW5wdXRDaGFuZ2VIYW5kbGVyIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMiLCJfZGlkSXRlcmF0b3JFcnJvcjMiLCJfaXRlcmF0b3JFcnJvcjMiLCJfc3RlcDMiLCJfaXRlcmF0b3IzIiwicmVuZGVyRm9yUGFnZSIsImlkIiwiYmFza2V0UnVuIiwiY2xhc3NXcmFwUHJvZHVjdEl0ZW1zIiwiY2xhc3NQcm9kdWN0SXRlbSIsImNsYXNzUHJvZHVjdFRpdGxlIiwiY2xhc3NQcm9kdWN0UHJpY2UiLCJjbGFzc1Byb2R1Y3RJbWFnZSIsIm5hbWVQYWdlU2hvcHBpbmdDYXJ0IiwiaWRUb3RhbFZhbHVlIiwiY2xhc3NTaG9wcGluZ0NhcnQiLCJjbGFzc1VuaXRlUHJpY2VGb3JDYXJ0IiwiY2xhc3NRdWFudGl0eUZvckNhcnRJbnB1dCIsImNsYXNzU3VidG90YWxGb3JDYXJ0IiwiaWRCdG5Gb3JDbGVhclNob3BwaW5nQ2FydCIsImlkQnRuRm9yQ29udGludWVTaG9wcGluZyIsImlkQnRuRm9yQ2hlY2tvdXQiLCIkRWxlbURyb3BCYXNrZXQiLCJpbml0IiwiX3RoaXM0IiwiJHdyYXBQcm9kdWN0Iiwic2hvd0RpYWxvZyIsImRyb3BwSW5pdCIsIiR0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiYXR0ciIsInJlbW92ZU9mQmFza2V0IiwicmVtb3ZlQWxsUWFudGl0eSIsImdvb2RBZGRUb0Jhc2tldCIsInBhcmVudHMiLCJjbGVhckJhc2tldCIsImdvb2RBZGRRdWFudGl0eSIsImxvY2F0aW9uIiwiaHJlZiIsIiRlbGVtIiwiX2Jhc2tldCIsInBhcmFtIiwicGFyc2VJbnQiLCJmaW5kIiwiYWRkIiwiYXBwbHkiLCJfYmFza2V0MiIsInZhbCIsImFkZFF1YW50aXR5IiwicmVtb3ZlIiwicmVtb3ZlQWxsUXVhbnRpdHkiLCJfdGhpczUiLCIkZGlhbG9nIiwiY3NzIiwiY29sb3IiLCJkaWFsb2ciLCJhcHBlbmRUbyIsInBvc2l0aW9uIiwibXkiLCJhdCIsInJlc2l6YWJsZSIsIm1vZGFsIiwid2lkdGgiLCJidXR0b25zIiwi0J7Rh9C40YHRgtC40YLRjCDQutC+0YDQt9C40L3RgyIsImNsZWFyIiwiQ2FuY2VsIiwiY2xvc2UiLCJfdGhpczYiLCJkcmFnZ2FibGUiLCJoZWxwZXIiLCJzY29wZSIsImFkZENsYXNzZXMiLCJjdXJzb3JBdCIsImxlZnQiLCJ0b3AiLCJjdXJzb3IiLCJzdGFydCIsInVpIiwic3RvcCIsImRyb3BwYWJsZSIsImFjdGl2ZUNsYXNzIiwidG9sZXJhbmNlIiwiZHJvcCIsImhpZGUiLCJlZmZlY3QiLCJkdXJhdGlvbiIsInNldFRpbWVvdXQiLCJkb2N1bWVudCIsInJlYWR5IiwiQ29tbWVudCIsImNvbW1lbnRJZCIsIm5hbWUiLCJtZXNzYWdlIiwiaWRfY29tbWVudCIsImNsYXNzQ29udGFpbmVyIiwiY2xhc3NOYW1lIiwiY2xhc3NNZXNzYWdlIiwiY2xhc3NEZWxCdG4iLCJjbGFzc0FwcHJvdmVsQnRuIiwiJGNvbnRhaW5lckNvbW1lbnQiLCJkYXRhLWlkIiwiZGF0YS1hcHByb3ZlZCIsIiRuYW1lQ29tbWVudCIsIiRtZXNzYWdlQ29tbWVudCIsIiRkZWxCdG5Db21tZW50IiwiJGFwcHJvdmVCdG5Db21tZW50IiwiaWRDb250YWluZXIiLCJpZENvbW1lbnRCbG9jayIsImNsYXNzQ29tbWVudEFwcHJvdmVkIiwidXJsR2V0QWxsQ29tbWVudHMiLCJ1cmxEZWxDb21tZW50IiwidXJsQXBwcm92YWxDb21tZW50IiwidXJsQWRkQ29tbWVudCIsImNvbW1lbnRCbG9jayIsIiRlbENvbW1lbnRCbG9jayIsImFyckFsbENvbW1lbnRzIiwiX3RoaXM3IiwicmVzdWx0IiwiZXJyb3JfbWVzc2FnZSIsImNvbW1lbnRzIiwicmVuZGVyIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQiLCJfZGlkSXRlcmF0b3JFcnJvcjQiLCJfaXRlcmF0b3JFcnJvcjQiLCJfc3RlcDQiLCJfaXRlcmF0b3I0Iiwib2JqIiwidGFyZ2V0IiwiZGF0YXNldCIsImFwcHJvdmUiLCJwcmV2ZW50RGVmYXVsdCIsIl90aGlzOCIsInBhcmVudCIsImFsZXJ0IiwiX3RoaXM5IiwidmFsaWRhdGVGb3JtIiwic3RhcnRWYWxpZGF0ZSIsImNsYXNzVmFsaWRhdGVJbnB1dCIsInVzZXJOYW1lSW5wdXQiLCJzaWJsaW5ncyIsInVzZXJNZXNzYWdlSW5wdXQiLCJ1c2VyTmFtZSIsInVzZXJNZXNzYWdlIiwidXNlcklkIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiaWRfdXNlciIsImFyckNvbW1lbnRzIiwidGV4dFN0YXR1cyIsImpxWEhSIiwiaWRJbnB1dE5hbWUiLCJpZElucHV0UGhvbmUiLCJpZElucHV0RW1haWwiLCJpZElucHV0TWVzc2FnZSIsImlkQnRuU3VibWl0IiwiY2xhc3NFbGVtT3V0RXJyIiwiY2xhc3NOb1ZhbGlkYXRlSW5wdXQiLCJlcnJvck1lc3NhZ2UiLCJuYW1lVXNlciIsInBob25lIiwiZW1haWwiLCJjb21tZW50VXNlciIsInJlZ0V4cE5hbWUiLCJyZWdFeHBQaG9uZSIsInJlZ0V4cEVtYWlsIiwicmVnRXhwTWVzc2FnZSIsImZvcm0iLCJhcnIiLCJ2YWxpZCIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241IiwiX2RpZEl0ZXJhdG9yRXJyb3I1IiwiX2l0ZXJhdG9yRXJyb3I1IiwiX3N0ZXA1IiwiX2l0ZXJhdG9yNSIsInZhbGlkYXRlSW5wdXQiLCJvdXRNZXNzYWdlRmFpbFZhbGlkYXRlIiwidGVzdCIsInRyaW0iLCJ2YWxpZGF0ZSIsImFyZ3VtZW50cyIsImVsZW1FcnJvciIsImdldEVsZW1lbnRCeUlkIiwicGFyZW50RWxlbWVudCIsInJlbW92ZUNoaWxkIiwiY2xhc3NMaXN0IiwiY3JlYXRlRWxlbWVudCIsImluc2VydEJlZm9yZSIsIm5leHRFbGVtZW50U2libGluZyIsImlubmVyVGV4dCJdLCJtYXBwaW5ncyI6ImlZQUdBQSxrQkFDQSxTQUFBQSxFQUFBQyxHQUFBQyxnQkFBQUMsS0FBQUgsR0FDQUcsS0FBQUMsU0FBQUgsRUFFQUUsS0FBQUUsV0FBQSxFQUNBRixLQUFBRyxPQUFBLEVBQ0FILEtBQUFJLFlBQUEsR0FDQUosS0FBQUssY0FBQSxLQUNBTCxLQUFBTSxhQUFBQyxFQUFBQSxJQUFBVCxFQUFBVSxjQUNBUixLQUFBUyxnQkFBQSx5REFPQUMsR0FDQVYsS0FBQUssY0FBQUUsRUFBQSxVQUFBLENBQ0FJLE1BQUFYLEtBQUFDLFNBQUFXLHFCQUFBQyxvQkFHQWIsS0FBQVMsZ0JBQUFGLEVBQUEsV0FBQSxDQUNBSSxNQUFBWCxLQUFBQyxTQUFBVyxx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QUFBRSxjQUFBQyxZQUFBSCxHQUVBaE8sRUFBQW9PLFVBQUF6SSxPQUFBMUosS0FBQXVRLHNCQUNBeE0sRUFBQW9PLFVBQUE5SSxJQUFBckosS0FBQW1QLG9CQUNBcEwsRUFBQWpCLE1BQUFpQixFQUFBakIsTUFBQThPLFNBbkJBRyxLQUNBQSxFQUFBOUYsU0FBQW1HLGNBQUEsUUFDQXJMLEdBQUEsU0FBQWhELEVBQUFnRCxHQUNBZ0wsRUFBQUksVUFBQTlJLElBQUFySixLQUFBc1EsaUJBQ0F2TSxFQUFBa08sY0FBQUksYUFBQU4sRUFBQWhPLEVBQUF1TyxxQkFFQXZPLEVBQUFvTyxVQUFBekksT0FBQTFKLEtBQUFtUCxvQkFDQXBMLEVBQUFvTyxVQUFBOUksSUFBQXJKLEtBQUF1USxzQkFDQXdCLEVBQUFRLFVBQUEsS0FBQXZTLEtBQUF3USxhQUFBek0sRUFBQWdELElBQ0FoRCxFQUFBakIsTUFBQSxHQUVBdkMsRUFBQXdELEdBQUErSCxPQUFBIiwiZmlsZSI6Im1haW4tb3V0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKlxyXG4gKi9cclxuY2xhc3MgQmFza2V0IHtcclxuICBjb25zdHJ1Y3RvcihiYXNrZXRTZXR0aW5ncykge1xyXG4gICAgdGhpcy5zZXR0aW5ncyA9IGJhc2tldFNldHRpbmdzO1xyXG5cclxuICAgIHRoaXMuY291bnRHb29kcyA9IDA7IC8v0J7QsdGJ0LXQtSDQutC+0Lst0LLQviDRgtC+0LLQsNGA0L7QsiDQsiDQutC+0YDQt9C40L3QtVxyXG4gICAgdGhpcy5hbW91bnQgPSAwOyAvL9Ce0LHRidCw0Y8g0YHRgtC+0LjQvNC+0YHRgtGMINGC0L7QstCw0YDQvtCyXHJcbiAgICB0aGlzLmJhc2tldEl0ZW1zID0gW107IC8v0JzQsNGB0YHQuNCyINC00LvRjyDRhdGA0LDQvdC10L3QuNGPINGC0L7QstCw0YDQvtCyXHJcbiAgICB0aGlzLiRwcm9kdWN0c1dyYXAgPSBudWxsO1xyXG4gICAgdGhpcy4kZWxlbUNvdW50ZXIgPSAkKGAjJHtiYXNrZXRTZXR0aW5ncy5pZENvdW50R29vZHN9YCk7XHJcbiAgICB0aGlzLiRlbGVtVG90YWxQcmljZSA9IG51bGw7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKlxyXG4gICAqIEBwYXJhbSAkalF1ZXJ5RWxlbWVudFxyXG4gICAqL1xyXG4gIHJlbmRlcigkalF1ZXJ5RWxlbWVudCkge1xyXG4gICAgdGhpcy4kcHJvZHVjdHNXcmFwID0gJCgnPGRpdiAvPicsIHtcclxuICAgICAgY2xhc3M6IHRoaXMuc2V0dGluZ3MuYmFza2V0SGVhZGVyU2V0dGluZ3MuY2xhc3NXcmFwUHJvZHVjdHMsXHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLiRlbGVtVG90YWxQcmljZSA9ICQoJzxzcGFuIC8+Jywge1xyXG4gICAgICBjbGFzczogdGhpcy5zZXR0aW5ncy5iYXNrZXRIZWFkZXJTZXR0aW5ncy5jbGFzc1RvdGFsVmFsdWVcclxuICAgIH0pO1xyXG5cclxuICAgIGxldCAkcHJpY2VUb3RhbFdyYXAgPSAkKCc8ZGl2IC8+Jywge1xyXG4gICAgICBjbGFzczogdGhpcy5zZXR0aW5ncy5iYXNrZXRIZWFkZXJTZXR0aW5ncy5jbGFzc1dyYXBQcmljZVRvdGFsLFxyXG4gICAgfSkuYXBwZW5kKCQoJzxzcGFuIC8+Jywge1xyXG4gICAgICBjbGFzczogdGhpcy5zZXR0aW5ncy5iYXNrZXRIZWFkZXJTZXR0aW5ncy5jbGFzc1RvdGFsRGVzY3JpcHRpb24sXHJcbiAgICAgIHRleHQ6ICd0b3RhbCdcclxuICAgIH0pKS5hcHBlbmQodGhpcy4kZWxlbVRvdGFsUHJpY2UpO1xyXG5cclxuICAgIGxldCAkYnV0dG9uc1dyYXAgPSAkKCc8ZGl2IC8+Jywge1xyXG4gICAgICBjbGFzczogdGhpcy5zZXR0aW5ncy5iYXNrZXRIZWFkZXJTZXR0aW5ncy5jbGFzc1dyYXBCdXR0b24sXHJcbiAgICB9KS5hcHBlbmQoJCgnPGJ1dHRvbiAvPicsIHtcclxuICAgICAgY2xhc3M6IHRoaXMuc2V0dGluZ3MuYmFza2V0SGVhZGVyU2V0dGluZ3MuY2xhc3NCdXR0b25DaGVja291dCxcclxuICAgICAgdGV4dDogJ0NoZWNrb3V0J1xyXG4gICAgfSkpLmFwcGVuZCgkKCc8YnV0dG9uIC8+Jywge1xyXG4gICAgICBjbGFzczogdGhpcy5zZXR0aW5ncy5iYXNrZXRIZWFkZXJTZXR0aW5ncy5jbGFzc0J1dHRvbkdvVG9DYXJ0LFxyXG4gICAgICB0ZXh0OiAnR28gdG8gY2FydCcsXHJcbiAgICAgICdkYXRhLXR5cGUnOiAnc2hvcHBpbmctY2FydCdcclxuICAgIH0pKTtcclxuXHJcbiAgICAkalF1ZXJ5RWxlbWVudC5hcHBlbmQodGhpcy4kcHJvZHVjdHNXcmFwKVxyXG4gICAgICAuYXBwZW5kKCRwcmljZVRvdGFsV3JhcClcclxuICAgICAgLmFwcGVuZCgkYnV0dG9uc1dyYXApO1xyXG5cclxuXHJcbiAgICAvL9Cf0L7Qu9GD0YfQsNC10Lwg0YPQttC1INC00L7QsdCw0LLQu9C10L3QvdGL0LUg0LIg0LrQvtGA0LfQuNC90YMg0YLQvtCy0LDRgNGLXHJcbiAgICB0aGlzLmdldEJhc2tldCgpO1xyXG4gICAgLy8gJHByb2R1Y3RzV3JhcC5hcHBlbmQobmV3IEdvb2QoKS5yZW5kZXIoKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKlxyXG4gICAqL1xyXG4gIGdldEJhc2tldChjYWxsYmFjaykge1xyXG4gICAgLy9sZXQgc2VsZiA9IHRoaXM7XHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgdXJsOiB0aGlzLnNldHRpbmdzLnBhdGhKc29uRmlsZSxcclxuICAgICAgY29udGV4dDogdGhpcyxcclxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuXHJcbiAgICAgICAgdGhpcy5hbW91bnQgPSBkYXRhLmFtb3VudDtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaXRlbSBvZiBkYXRhLmJhc2tldCkge1xyXG4gICAgICAgICAgdGhpcy5jb3VudEdvb2RzICs9IGl0ZW0ucXVhbnRpdHk7XHJcbiAgICAgICAgICB0aGlzLmJhc2tldEl0ZW1zLnB1c2goaXRlbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgIH1cclxuICAgICAgLFxyXG4gICAgICBlcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ9Cf0YDQvtC40LfQvtGI0LvQsCDQvtGI0LjQsdC60LAg0L/RgNC4INC/0L7Qu9GD0YfQtdC90LjQuCDQtNCw0L3QvdGL0YUnLCBlcnJvcik7XHJcbiAgICAgIH0sXHJcbiAgICAgIGRhdGFUeXBlOiAnanNvbidcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICpcclxuICAgKiBAcGFyYW0gaWRfcHJvZHVjdFxyXG4gICAqIEBwYXJhbSB0aXRsZVxyXG4gICAqIEBwYXJhbSBwcmljZVxyXG4gICAqIEBwYXJhbSBzcmNcclxuICAgKi9cclxuICBhZGQoaWRfcHJvZHVjdCwgdGl0bGUsIHByaWNlLCBzcmMpIHtcclxuXHJcbiAgICBsZXQgYmFza2V0TmV3SXRlbSA9IHtcclxuICAgICAgaWRfcHJvZHVjdCxcclxuICAgICAgcHJpY2UsIC8vcHJpY2U6IHByaWNlXHJcbiAgICAgIHRpdGxlLFxyXG4gICAgICBzcmMsXHJcbiAgICAgIHF1YW50aXR5OiAxXHJcbiAgICB9O1xyXG4gICAgbGV0IGluZCA9IHRoaXMuYmFza2V0SXRlbXMuZmluZEluZGV4KGZ1bmN0aW9uIChlbGVtKSB7XHJcbiAgICAgIHJldHVybiAoZWxlbS5pZF9wcm9kdWN0ID09PSBpZF9wcm9kdWN0KTtcclxuICAgIH0pO1xyXG4gICAgaWYgKGluZCA9PT0gLTEpIHtcclxuICAgICAgdGhpcy5iYXNrZXRJdGVtcy5wdXNoKGJhc2tldE5ld0l0ZW0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5iYXNrZXRJdGVtc1tpbmRdLnF1YW50aXR5Kys7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jb3VudEdvb2RzKys7XHJcbiAgICB0aGlzLmFtb3VudCArPSBwcmljZTsgLy90aGlzLmFtb3VudCA9IHRoaXMuYW1vdW50ICsgcHJpY2U7XHJcblxyXG4gICAgdGhpcy5yZWZyZXNoKCk7IC8v0J/QtdGA0LXRgNC40YHQvtCy0YvQstCw0LXQvCDQutC+0YDQt9C40L3Rg1xyXG4gIH1cclxuXHJcbiAgYWRkUXVhbnRpdHkoaWRfcHJvZHVjdCwgcXVhbnRpdHkpIHtcclxuICAgIHRoaXMuYmFza2V0SXRlbXMuZmluZEluZGV4KChlbGVtKSA9PiB7XHJcbiAgICAgIGlmIChlbGVtLmlkX3Byb2R1Y3QgPT09IGlkX3Byb2R1Y3QpIHtcclxuICAgICAgICBsZXQgYWRkUXQgPSBxdWFudGl0eSAtIGVsZW0ucXVhbnRpdHk7XHJcbiAgICAgICAgZWxlbS5xdWFudGl0eSArPSBhZGRRdDtcclxuICAgICAgICB0aGlzLmNvdW50R29vZHMgKz0gYWRkUXQ7XHJcbiAgICAgICAgdGhpcy5hbW91bnQgKz0gZWxlbS5wcmljZSAqIGFkZFF0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnJlZnJlc2goKTsgLy/Qn9C10YDQtdGA0LjRgdC+0LLRi9Cy0LDQtdC8INC60L7RgNC30LjQvdGDXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGlkUHJvZHVjdFxyXG4gICAqL1xyXG4gIHJlbW92ZShpZFByb2R1Y3QpIHtcclxuICAgIGZvciAobGV0IGFyckluZCBpbiB0aGlzLmJhc2tldEl0ZW1zKSB7XHJcbiAgICAgIGlmICh0aGlzLmJhc2tldEl0ZW1zW2FyckluZF0uaWRfcHJvZHVjdCA9PT0gaWRQcm9kdWN0KSB7XHJcbiAgICAgICAgdGhpcy5hbW91bnQgLT0gdGhpcy5iYXNrZXRJdGVtc1thcnJJbmRdLnByaWNlO1xyXG4gICAgICAgIHRoaXMuY291bnRHb29kcy0tO1xyXG4gICAgICAgIGlmICh0aGlzLmJhc2tldEl0ZW1zW2FyckluZF0ucXVhbnRpdHkgPiAxKSB7XHJcbiAgICAgICAgICB0aGlzLmJhc2tldEl0ZW1zW2FyckluZF0ucXVhbnRpdHktLTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5iYXNrZXRJdGVtcy5zcGxpY2UoYXJySW5kLCAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbW92ZUFsbFF1YW50aXR5KGlkUHJvZHVjdCkge1xyXG4gICAgZm9yIChsZXQgYXJySW5kIGluIHRoaXMuYmFza2V0SXRlbXMpIHtcclxuICAgICAgaWYgKHRoaXMuYmFza2V0SXRlbXNbYXJySW5kXS5pZF9wcm9kdWN0ID09PSBpZFByb2R1Y3QpIHtcclxuICAgICAgICBsZXQgYWxsUXQgPSB0aGlzLmJhc2tldEl0ZW1zW2FyckluZF0ucXVhbnRpdHk7XHJcbiAgICAgICAgdGhpcy5hbW91bnQgLT0gdGhpcy5iYXNrZXRJdGVtc1thcnJJbmRdLnByaWNlICogYWxsUXQ7XHJcbiAgICAgICAgdGhpcy5jb3VudEdvb2RzIC09IGFsbFF0O1xyXG4gICAgICAgIHRoaXMuYmFza2V0SXRlbXMuc3BsaWNlKGFyckluZCwgMSk7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNsZWFyKCkge1xyXG4gICAgdGhpcy5jb3VudEdvb2RzID0gMDtcclxuICAgIHRoaXMuYW1vdW50ID0gMDtcclxuICAgIHRoaXMuYmFza2V0SXRlbXMgPSBbXTtcclxuICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICpcclxuICAgKi9cclxuICBzZXRDb3VudGVyQW5kVG90YWxQcmljZSgpIHtcclxuICAgIGxldCBjb3VudCA9IHRoaXMuY291bnRHb29kcztcclxuICAgIGlmIChjb3VudCA+IDApIHtcclxuICAgICAgdGhpcy4kZWxlbUNvdW50ZXIudGV4dChjb3VudClcclxuICAgICAgICAuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAvLyB0aGlzLiRlbGVtVG90YWxQcmljZS50ZXh0KCckJyArIHRoaXMuYW1vdW50KTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLiRlbGVtQ291bnRlci50ZXh0KCcnKVxyXG4gICAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgIC8vIHRoaXMuJGVsZW1Ub3RhbFByaWNlLnRleHQoJyQnICsgdGhpcy5hbW91bnQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICpcclxuICAgKi9cclxuICByZWZyZXNoKCkge1xyXG4gICAgdGhpcy5zZXRDb3VudGVyQW5kVG90YWxQcmljZSgpO1xyXG4gICAgaWYgKHRoaXMuc2V0dGluZ3Mub2JqZWN0QmFza2V0SGVhZGVyKSB7XHJcbiAgICAgIHRoaXMuc2V0dGluZ3Mub2JqZWN0QmFza2V0SGVhZGVyLnJlZnJlc2goKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLnNldHRpbmdzLm9iamVjdEJhc2tldFBhZ2UpIHtcclxuICAgICAgdGhpcy5zZXR0aW5ncy5vYmplY3RCYXNrZXRQYWdlLnJlZnJlc2goKTtcclxuICAgIH1cclxuICB9XHJcbn0iLCIvKipcclxuICpcclxuICovXHJcbmNsYXNzIEJhc2tldEhlYWRlciB7XHJcbiAgY29uc3RydWN0b3IoYmFza2V0KSB7XHJcbiAgICB0aGlzLmxpbmtCYXNrZXQgPSBiYXNrZXQ7XHJcbiAgICB0aGlzLnNldHRpbmdzID0gYmFza2V0LnNldHRpbmdzLmJhc2tldEhlYWRlclNldHRpbmdzO1xyXG4gICAgdGhpcy5vYmplY3RSdW5CYXNrZXQgPSBiYXNrZXQuc2V0dGluZ3Mub2JqZWN0UnVuQmFza2V0O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICpcclxuICAgKi9cclxuICBpbml0KCkge1xyXG4gICAgbGV0ICRlbGVtV3JhcEhlYWRlckJhc2tldCA9ICQoYCMke3RoaXMuc2V0dGluZ3MuaWRXcmFwVG9wQmFza2V0fWApO1xyXG4gICAgdGhpcy4kcHJvZHVjdHNXcmFwID0gJCgnPGRpdiAvPicsIHtcclxuICAgICAgY2xhc3M6IHRoaXMuc2V0dGluZ3MuY2xhc3NXcmFwUHJvZHVjdHMsXHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLiRlbGVtVG90YWxQcmljZSA9ICQoJzxzcGFuIC8+Jywge1xyXG4gICAgICBjbGFzczogdGhpcy5zZXR0aW5ncy5jbGFzc1RvdGFsVmFsdWVcclxuICAgIH0pO1xyXG5cclxuICAgIGxldCAkcHJpY2VUb3RhbFdyYXAgPSAkKCc8ZGl2IC8+Jywge1xyXG4gICAgICBjbGFzczogdGhpcy5zZXR0aW5ncy5jbGFzc1dyYXBQcmljZVRvdGFsLFxyXG4gICAgfSkuYXBwZW5kKCQoJzxzcGFuIC8+Jywge1xyXG4gICAgICBjbGFzczogdGhpcy5zZXR0aW5ncy5jbGFzc1RvdGFsRGVzY3JpcHRpb24sXHJcbiAgICAgIHRleHQ6ICd0b3RhbCdcclxuICAgIH0pKS5hcHBlbmQodGhpcy4kZWxlbVRvdGFsUHJpY2UpO1xyXG5cclxuICAgIGxldCAkYnV0dG9uc1dyYXAgPSAkKCc8ZGl2IC8+Jywge1xyXG4gICAgICBjbGFzczogdGhpcy5zZXR0aW5ncy5jbGFzc1dyYXBCdXR0b24sXHJcbiAgICB9KS5hcHBlbmQoJCgnPGJ1dHRvbiAvPicsIHtcclxuICAgICAgY2xhc3M6IHRoaXMuc2V0dGluZ3MuY2xhc3NCdXR0b25DaGVja291dCxcclxuICAgICAgdGV4dDogJ0NoZWNrb3V0J1xyXG4gICAgfSkpLmFwcGVuZCgkKCc8YnV0dG9uIC8+Jywge1xyXG4gICAgICBjbGFzczogdGhpcy5zZXR0aW5ncy5jbGFzc0J1dHRvbkdvVG9DYXJ0LFxyXG4gICAgICB0ZXh0OiAnR28gdG8gY2FydCcsXHJcbiAgICAgICdkYXRhLXR5cGUnOiAnc2hvcHBpbmctY2FydCdcclxuICAgIH0pKTtcclxuXHJcbiAgICAkZWxlbVdyYXBIZWFkZXJCYXNrZXQuYXBwZW5kKHRoaXMuJHByb2R1Y3RzV3JhcClcclxuICAgICAgLmFwcGVuZCgkcHJpY2VUb3RhbFdyYXApXHJcbiAgICAgIC5hcHBlbmQoJGJ1dHRvbnNXcmFwKVxyXG4gICAgICAub24oJ2NsaWNrJywgJ2J1dHRvbicsIGV2ZW50ID0+IHRoaXMuYnRuQ2xpY2tIYW5kbGVyKGV2ZW50KSk7XHJcbiAgICB0aGlzLnJlZnJlc2goKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGV2ZW50XHJcbiAgICovXHJcbiAgYnRuQ2xpY2tIYW5kbGVyKGV2ZW50KSB7XHJcbiAgICB0aGlzLm9iamVjdFJ1bkJhc2tldC5idG5DbGlja0hhbmRsZXIoZXZlbnQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICpcclxuICAgKi9cclxuICByZWZyZXNoKCkge1xyXG4gICAgdGhpcy4kZWxlbVRvdGFsUHJpY2UudGV4dCgnJCcgKyB0aGlzLmxpbmtCYXNrZXQuYW1vdW50KTtcclxuICAgIGlmICh0aGlzLmxpbmtCYXNrZXQuYmFza2V0SXRlbXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHRoaXMuJHByb2R1Y3RzV3JhcC5lbXB0eSgpXHJcbiAgICAgICAgLnRleHQoJ9Ci0L7QstCw0YDQvtCyINCyINC60LDRgNC30LjQvdC1INC90LXRgiEnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuJHByb2R1Y3RzV3JhcC5lbXB0eSgpO1xyXG4gICAgICBmb3IgKGxldCBpdGVtIG9mIHRoaXMubGlua0Jhc2tldC5iYXNrZXRJdGVtcykge1xyXG4gICAgICAgIHRoaXMuJHByb2R1Y3RzV3JhcC5hcHBlbmQoXHJcbiAgICAgICAgICBuZXcgR29vZChpdGVtLmlkX3Byb2R1Y3QsIGl0ZW0udGl0bGUsIGl0ZW0ucHJpY2UsIGl0ZW0uc3JjLCBpdGVtLnF1YW50aXR5KS5yZW5kZXJGb3JIZWFkZXIoKVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn0iLCJjbGFzcyBCYXNrZXRQYWdlIHtcclxuICBjb25zdHJ1Y3RvcihiYXNrZXQpIHtcclxuICAgIHRoaXMubGlua0Jhc2tldCA9IGJhc2tldDtcclxuICAgIHRoaXMuc2V0dGluZ3MgPSBiYXNrZXQuc2V0dGluZ3MuYmFza2V0UGFnZVNldHRpbmdzO1xyXG4gICAgdGhpcy5vYmplY3RSdW5CYXNrZXQgPSBiYXNrZXQuc2V0dGluZ3Mub2JqZWN0UnVuQmFza2V0O1xyXG4gICAgdGhpcy5vYmplY3RSdW5CYXNrZXQgPSBiYXNrZXQuc2V0dGluZ3Mub2JqZWN0UnVuQmFza2V0O1xyXG4gICAgdGhpcy4kd3JhcENhcnQgPSBudWxsO1xyXG4gICAgLy8gdGhpcy53cmFwQ29udGVudCA9IG51bGw7XHJcbiAgICB0aGlzLiRzdWJUb3RhbCA9IG51bGw7XHJcbiAgICB0aGlzLiRncmFuZFRvdGFsID0gbnVsbDtcclxuICB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICB0aGlzLiR3cmFwQ2FydCA9ICQoYC4ke3RoaXMuc2V0dGluZ3MuY2xhc3NXcmFwQ2FydH1gKTtcclxuICAgIC8vIHRoaXMud3JhcENvbnRlbnQgPSAkKGAuJHt0aGlzLnNldHRpbmdzLmNsYXNzV3JhcENvbnRlbnR9YCk7XHJcbiAgICB0aGlzLiRzdWJUb3RhbCA9ICQoYCMke3RoaXMuc2V0dGluZ3MuaWRTcGFuRm9yU3ViVG90YWx9YCk7XHJcbiAgICB0aGlzLiRncmFuZFRvdGFsID0gJChgIyR7dGhpcy5zZXR0aW5ncy5pZFNwYW5Gb3JHcmFuZFRvdGFsfWApO1xyXG4gICAgJChgLiR7dGhpcy5zZXR0aW5ncy5jbGFzc1dyYXBDb250ZW50fWApXHJcbiAgICAgIC5vbignY2xpY2snLCAnYnV0dG9uJywgZXZlbnQgPT4gdGhpcy5idG5DbGlja0hhbmRsZXIoZXZlbnQpKTtcclxuICAgIHRoaXMuJHdyYXBDYXJ0XHJcbiAgICAgIC5vbignY2hhbmdlJywgJ2lucHV0JywgZXZlbnQgPT4gdGhpcy5pbnB1dENoYW5nZUhhbmRsZXIoZXZlbnQpKTtcclxuICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gIH1cclxuXHJcbiAgYnRuQ2xpY2tIYW5kbGVyKGV2ZW50KSB7XHJcbiAgICB0aGlzLm9iamVjdFJ1bkJhc2tldC5idG5DbGlja0hhbmRsZXIoZXZlbnQpO1xyXG4gIH1cclxuXHJcbiAgaW5wdXRDaGFuZ2VIYW5kbGVyKGV2ZW50KXtcclxuICAgIHRoaXMub2JqZWN0UnVuQmFza2V0LmJ0bkNsaWNrSGFuZGxlcihldmVudCk7XHJcbiAgfVxyXG5cclxuICByZWZyZXNoKCkge1xyXG4gICAgdGhpcy4kc3ViVG90YWwudGV4dCgnJCcgKyB0aGlzLmxpbmtCYXNrZXQuYW1vdW50KTtcclxuICAgIHRoaXMuJGdyYW5kVG90YWwudGV4dCgnJCcgKyB0aGlzLmxpbmtCYXNrZXQuYW1vdW50KTtcclxuICAgIGlmICh0aGlzLmxpbmtCYXNrZXQuYmFza2V0SXRlbXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHRoaXMuJHdyYXBDYXJ0LmVtcHR5KClcclxuICAgICAgICAuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5jbGFzc1dyYXBDYXJ0ICsgJ19lbXB0eScpXHJcbiAgICAgICAgLnRleHQoJ9Ci0L7QstCw0YDQvtCyINCyINC60LDRgNC30LjQvdC1INC90LXRgiEnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuJHdyYXBDYXJ0LmVtcHR5KCk7XHJcbiAgICAgIGZvciAobGV0IGl0ZW0gb2YgdGhpcy5saW5rQmFza2V0LmJhc2tldEl0ZW1zKSB7XHJcbiAgICAgICAgdGhpcy4kd3JhcENhcnQuYXBwZW5kKFxyXG4gICAgICAgICAgbmV3IEdvb2QoaXRlbS5pZF9wcm9kdWN0LCBpdGVtLnRpdGxlLCBpdGVtLnByaWNlLCBpdGVtLnNyYywgaXRlbS5xdWFudGl0eSkucmVuZGVyRm9yUGFnZSgpXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufSIsImNsYXNzIEdvb2Qge1xyXG4gIGNvbnN0cnVjdG9yKGlkLCB0aXRsZSwgcHJpY2UsIHNyYywgcXVhbnRpdHkpIHtcclxuICAgIHRoaXMuaWQgPSBpZDtcclxuICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcclxuICAgIHRoaXMucHJpY2UgPSBwcmljZTtcclxuICAgIHRoaXMuc3JjID0gc3JjO1xyXG4gICAgdGhpcy5xdWFudGl0eSA9IHF1YW50aXR5O1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyRm9ySGVhZGVyKCkge1xyXG4gICAgcmV0dXJuICQoYDxkaXYgY2xhc3M9XCJhY2NfX2NhcnRfX3Byb2R1Y3RcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWNjX19jYXJ0X19wcm9kdWN0X19pbWdcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHt0aGlzLnNyY31cIiB3aWR0aD1cIjcyXCIgaGVpZ2h0PVwiODVcIiBhbHQ9XCJSZWJveCBaYW5lXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFjY19fY2FydF9fcHJvZHVjdF9fZGF0YVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJwcm9kdWN0X19kYXRhX2hlYWRcIj4ke3RoaXMudGl0bGV9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJwcm9kdWN0X19kYXRhX3F1YWxpdHlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYSBmYS1zdGFyXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhIGZhLXN0YXJcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmEgZmEtc3RhclwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYSBmYS1zdGFyXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhIGZhLXN0YXIgcXVhbGl0eS13aGl0ZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9kdWN0X19kYXRhX2NhbGN1bGF0aW9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicHJvZHVjdF9fZGF0YV9udW1iZXJcIj4ke3RoaXMucXVhbnRpdHl9PC9zcGFuPiB4IDxzcGFuIGNsYXNzPVwicHJvZHVjdF9fZGF0YV9wcmljZVwiPiQke3RoaXMucHJpY2V9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFjY19fY2FydF9fcHJvZHVjdF9fZGVsXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGRhdGEtdHlwZT1cImRlbFwiIGRhdGEtaWQ9XCIke3RoaXMuaWR9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmEgZmEtdGltZXNcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+YCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgcmVuZGVyRm9yUGFnZSgpIHtcclxuICAgIHJldHVybiAkKGA8ZGl2IGNsYXNzPVwic2hvcHBpbmctY2FydFwiIGRhdGEtaWQ9XCIke3RoaXMuaWR9XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2hvcHBpbmctY2FydF9fcHJvZHVjdC1kZXRhaWxzIHNob3BwaW5nLWNhcnRfX2NvbHVtbi1maXJzdFwiPlxyXG4gICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHt0aGlzLnNyY31cIiB3aWR0aD1cIjEwMFwiIGhlaWdodD1cIjExNVwiIGFsdD1cIk1hbmdvIFBlb3BsZSBULXNoaXJ0XCI+XHJcbiAgICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2R1Y3QtZGV0YWlsc19fZGVzY3JpcHRpb25cIj5cclxuICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiPiR7dGhpcy50aXRsZX08L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJvcHRpb24tcm93XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwib3B0aW9uLXJvd19fb3B0aW9uXCI+Q29sb3I6PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm9wdGlvbi1yb3dfX3ZhbHVlXCI+UmVkPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwib3B0aW9uLXJvd1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm9wdGlvbi1yb3dfX29wdGlvblwiPlNpemU6PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm9wdGlvbi1yb3dfX3ZhbHVlXCI+WGxsPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2hvcHBpbmctY2FydF9fdW5pdGUtcHJpY2Ugc2hvcHBpbmctY2FydF9fY29sdW1uLWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInVuaXRlLXByaWNlXCI+JCR7dGhpcy5wcmljZX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzaG9wcGluZy1jYXJ0X19xdWFudGl0eSBzaG9wcGluZy1jYXJ0X19jb2x1bW4tY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dCB0aXRsZT1cInF1YW50aXR5XCIgdHlwZT1cInRleHRcIiBjbGFzcz1cInF1YW50aXR5XCIgZGF0YS10eXBlPVwicXVhbnRpdHlcIiB2YWx1ZT1cIiR7dGhpcy5xdWFudGl0eX1cIiByZXF1aXJlZD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNob3BwaW5nLWNhcnRfX3NoaXBwaW5nIHNob3BwaW5nLWNhcnRfX2NvbHVtbi1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzaGlwcGluZ1wiPmZyZWU8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzaG9wcGluZy1jYXJ0X19zdWJ0b3RhbCBzaG9wcGluZy1jYXJ0X19jb2x1bW4tY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3VidG90YWxcIj4kJHt0aGlzLnF1YW50aXR5ICogdGhpcy5wcmljZX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzaG9wcGluZy1jYXJ0X19hY3Rpb24gc2hvcHBpbmctY2FydF9fY29sdW1uLWxhc3RcIj5cclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBkYXRhLWlkPVwiJHt0aGlzLmlkfVwiIGRhdGEtdHlwZT1cImRlbEFsbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmEgZmEtdGltZXNcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+YCk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuIiwiLyoqXHJcbiAqXHJcbiAqXHJcbiAqL1xyXG5jb25zdCBiYXNrZXRSdW4gPSB7XHJcbiAgc2V0dGluZ3M6IHtcclxuICAgIGNsYXNzV3JhcFByb2R1Y3RJdGVtczogJ3dyYXAtcHJvZHVjdC1pdGVtJyxcclxuICAgIGNsYXNzUHJvZHVjdEl0ZW06ICdwcm9kdWN0LWl0ZW0nLFxyXG4gICAgY2xhc3NQcm9kdWN0VGl0bGU6ICd0aXRsZS1pdGVtJyxcclxuICAgIGNsYXNzUHJvZHVjdFByaWNlOiAncHJpY2UtdmFsJyxcclxuICAgIGNsYXNzUHJvZHVjdEltYWdlOiAncHJvZHVjdC1pbWcnLFxyXG4gICAgbmFtZVBhZ2VTaG9wcGluZ0NhcnQ6ICdzaG9wcGluZy1jYXJ0JyxcclxuICAgIGJhc2tldFNldHRpbmdzOiB7XHJcbiAgICAgIHBhdGhKc29uRmlsZTogJy4vanNvbi9iYXNrZXRfZ2V0Lmpzb24nLFxyXG4gICAgICBpZENvdW50R29vZHM6ICdjb3VudC1nb29kcycsXHJcbiAgICAgIG9iamVjdFJ1bkJhc2tldDogbnVsbCxcclxuICAgICAgb2JqZWN0QmFza2V0SGVhZGVyOiBudWxsLFxyXG4gICAgICBvYmplY3RCYXNrZXRQYWdlOiBudWxsLFxyXG4gICAgICBiYXNrZXRIZWFkZXJTZXR0aW5nczoge1xyXG4gICAgICAgIGlkV3JhcFRvcEJhc2tldDogJ3dyYXAtdG9wLWJhc2tldCcsXHJcbiAgICAgICAgY2xhc3NXcmFwUHJvZHVjdHM6ICdhY2NfX2NhcnRfX3Byb2R1Y3RzLXdyYXAnLFxyXG4gICAgICAgIGNsYXNzV3JhcFByaWNlVG90YWw6ICdhY2NfX2NhcnRfX3ByaWNlLXRvdGFsJyxcclxuICAgICAgICBjbGFzc1dyYXBCdXR0b246ICdhY2NfX2NhcnRfX2J1dHRvbnMnLFxyXG4gICAgICAgIGNsYXNzVG90YWxEZXNjcmlwdGlvbjogJ3ByaWNlLXRvdGFsX2Rlc2NyaXB0aW9uJyxcclxuICAgICAgICBjbGFzc1RvdGFsVmFsdWU6ICdwcmljZS10b3RhbF92YWx1ZScsXHJcbiAgICAgICAgaWRUb3RhbFZhbHVlOiAndG90YWwtdG9wLWJhc2tldCcsXHJcbiAgICAgICAgY2xhc3NCdXR0b25DaGVja291dDogJ2J1dHRvbnNfY2hlY2tvdXQnLFxyXG4gICAgICAgIGNsYXNzQnV0dG9uR29Ub0NhcnQ6ICdidXR0b25zX2dvLXRvLWNhcnQnLFxyXG4gICAgICAgICRlbGVtV3JhcEhlYWRlckJhc2tldDogbnVsbCxcclxuICAgICAgfSxcclxuICAgICAgYmFza2V0UGFnZVNldHRpbmdzOiB7XHJcbiAgICAgICAgY2xhc3NXcmFwQ29udGVudDogJ3dyYXAtY29udGVudCcsXHJcbiAgICAgICAgY2xhc3NXcmFwQ2FydDogJ3dyYXAtY2FydCcsXHJcbiAgICAgICAgY2xhc3NTaG9wcGluZ0NhcnQ6ICdzaG9wcGluZy1jYXJ0JyxcclxuICAgICAgICBjbGFzc1VuaXRlUHJpY2VGb3JDYXJ0OiAndW5pdGUtcHJpY2UnLFxyXG4gICAgICAgIGNsYXNzUXVhbnRpdHlGb3JDYXJ0SW5wdXQ6ICdxdWFudGl0eScsXHJcbiAgICAgICAgY2xhc3NTdWJ0b3RhbEZvckNhcnQ6ICdzdWJ0b3RhbCcsXHJcbiAgICAgICAgaWRCdG5Gb3JDbGVhclNob3BwaW5nQ2FydDogJ2NsZWFyU2hvcHBpbmdDYXJ0JyxcclxuICAgICAgICBpZEJ0bkZvckNvbnRpbnVlU2hvcHBpbmc6ICdjb250aW51ZVNob3BwaW5nJyxcclxuICAgICAgICBpZFNwYW5Gb3JTdWJUb3RhbDogJ3N1YlRvdGFsJyxcclxuICAgICAgICBpZFNwYW5Gb3JHcmFuZFRvdGFsOiAnZ3JhbmRUb3RhbCcsXHJcbiAgICAgICAgaWRCdG5Gb3JDaGVja291dDogJ3Byb2NlZWRUb0NoZWNrb3V0JywgLypcclxuICAgICAgICBkYXRhVHlwZUJ0bkNoZWNrb3V0OiAnY2hlY2tvdXQnLFxyXG4gICAgICAgIGRhdGFUeXBlQnRuQ2xlYXI6ICdjbGVhcicsXHJcbiAgICAgICAgZGF0YVR5cGVCdG5Db250aW51ZTogJ2NvbnRpbnVlJywqL1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgJEVsZW1Ecm9wQmFza2V0OiBudWxsLFxyXG4gIGJhc2tldDogbnVsbCxcclxuXHJcbiAgLyoqXHJcbiAgICpcclxuICAgKi9cclxuICBpbml0KCkge1xyXG5cclxuICAgIHRoaXMuc2V0dGluZ3MuYmFza2V0U2V0dGluZ3Mub2JqZWN0UnVuQmFza2V0ID0gdGhpcztcclxuICAgIHRoaXMuYmFza2V0ID0gbmV3IEJhc2tldCh0aGlzLnNldHRpbmdzLmJhc2tldFNldHRpbmdzKTtcclxuICAgIHRoaXMuYmFza2V0LmdldEJhc2tldChcclxuICAgICAgKCkgPT4ge1xyXG4gICAgICAgICh0aGlzLnNldHRpbmdzLmJhc2tldFNldHRpbmdzLm9iamVjdEJhc2tldEhlYWRlciA9IG5ldyBCYXNrZXRIZWFkZXIodGhpcy5iYXNrZXQpKS5pbml0KCk7XHJcbiAgICAgICAgKHRoaXMuc2V0dGluZ3MuYmFza2V0U2V0dGluZ3Mub2JqZWN0QmFza2V0UGFnZSA9IG5ldyBCYXNrZXRQYWdlKHRoaXMuYmFza2V0KSkuaW5pdCgpO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG5cclxuICAgIGxldCAkd3JhcFByb2R1Y3QgPSAkKGAuJHt0aGlzLnNldHRpbmdzLmNsYXNzV3JhcFByb2R1Y3RJdGVtc31gKTtcclxuICAgIGlmICghJHdyYXBQcm9kdWN0Lmxlbmd0aCA+IDApIHJldHVybjtcclxuICAgICR3cmFwUHJvZHVjdC5vbignY2xpY2snLCAnYnV0dG9uW2RhdGEtdHlwZSA9IGFkZF0nLCAoZXZlbnQpID0+IHtcclxuICAgICAgdGhpcy5idG5DbGlja0hhbmRsZXIoZXZlbnQpO1xyXG4gICAgICB0aGlzLnNob3dEaWFsb2coKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5kcm9wcEluaXQoKTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKlxyXG4gICAqIEBwYXJhbSBldmVudFxyXG4gICAqL1xyXG4gIGJ0bkNsaWNrSGFuZGxlcihldmVudCkge1xyXG4gICAgbGV0ICR0YXJnZXQgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xyXG4gICAgc3dpdGNoICgkdGFyZ2V0LmF0dHIoJ2RhdGEtdHlwZScpKSB7XHJcbiAgICAgIGNhc2UgJ2RlbCc6XHJcbiAgICAgICAgdGhpcy5yZW1vdmVPZkJhc2tldCgkdGFyZ2V0KTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ2RlbEFsbCc6XHJcbiAgICAgICAgdGhpcy5yZW1vdmVBbGxRYW50aXR5KCR0YXJnZXQpO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnYWRkJzpcclxuICAgICAgICB0aGlzLmdvb2RBZGRUb0Jhc2tldCgkdGFyZ2V0LnBhcmVudHMoYC4ke3RoaXMuc2V0dGluZ3MuY2xhc3NQcm9kdWN0SXRlbX1gKSk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdjbGVhcic6XHJcbiAgICAgICAgdGhpcy5jbGVhckJhc2tldCgpO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAncXVhbnRpdHknOlxyXG4gICAgICAgIHRoaXMuZ29vZEFkZFF1YW50aXR5KCR0YXJnZXQucGFyZW50cyhgLiR7dGhpcy5zZXR0aW5ncy5iYXNrZXRTZXR0aW5ncy5iYXNrZXRQYWdlU2V0dGluZ3MuY2xhc3NTaG9wcGluZ0NhcnR9YCkpO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnY29udGludWUnOlxyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnY2hlY2tvdXQnOlxyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSB0aGlzLnNldHRpbmdzLm5hbWVQYWdlU2hvcHBpbmdDYXJ0OlxyXG4gICAgICAgIGxvY2F0aW9uLmhyZWYgPSB0aGlzLnNldHRpbmdzLm5hbWVQYWdlU2hvcHBpbmdDYXJ0ICsgJy5odG1sJztcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKlxyXG4gICAqIEBwYXJhbSAkZWxlbVxyXG4gICAqL1xyXG4gIGdvb2RBZGRUb0Jhc2tldCgkZWxlbSkge1xyXG4gICAgbGV0IHBhcmFtID0gW1xyXG4gICAgICBwYXJzZUludCgkZWxlbS5hdHRyKCdkYXRhLWlkJykpLFxyXG4gICAgICAkZWxlbS5maW5kKGAuJHt0aGlzLnNldHRpbmdzLmNsYXNzUHJvZHVjdFRpdGxlfWApLnRleHQoKSxcclxuICAgICAgcGFyc2VJbnQoJGVsZW0uZmluZChgLiR7dGhpcy5zZXR0aW5ncy5jbGFzc1Byb2R1Y3RQcmljZX1gKS50ZXh0KCkpLFxyXG4gICAgICAkZWxlbS5maW5kKGAuJHt0aGlzLnNldHRpbmdzLmNsYXNzUHJvZHVjdEltYWdlfWApLmF0dHIoJ3NyYycpXHJcbiAgICBdO1xyXG4gICAgdGhpcy5iYXNrZXQuYWRkKC4uLnBhcmFtKTtcclxuICB9LFxyXG5cclxuICBnb29kQWRkUXVhbnRpdHkoJGVsZW0pIHtcclxuICAgIGxldCBwYXJhbSA9IFtcclxuICAgICAgcGFyc2VJbnQoJGVsZW0uYXR0cignZGF0YS1pZCcpKSxcclxuICAgICAgcGFyc2VJbnQoJGVsZW0uZmluZChgaW5wdXQucXVhbnRpdHlgKS52YWwoKSksXHJcbiAgICBdO1xyXG4gICAgdGhpcy5iYXNrZXQuYWRkUXVhbnRpdHkoLi4ucGFyYW0pO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqXHJcbiAgICogQHBhcmFtICRlbGVtXHJcbiAgICovXHJcbiAgcmVtb3ZlT2ZCYXNrZXQoJGVsZW0pIHtcclxuICAgIHRoaXMuYmFza2V0LnJlbW92ZShwYXJzZUludCgkZWxlbS5hdHRyKCdkYXRhLWlkJykpKTtcclxuICB9LFxyXG5cclxuICByZW1vdmVBbGxRYW50aXR5KCRlbGVtKSB7XHJcbiAgICB0aGlzLmJhc2tldC5yZW1vdmVBbGxRdWFudGl0eShwYXJzZUludCgkZWxlbS5hdHRyKCdkYXRhLWlkJykpKTtcclxuICB9LFxyXG5cclxuICBjbGVhckJhc2tldCgpIHtcclxuICAgIGlmICh0aGlzLmJhc2tldC5jb3VudEdvb2RzKSB7XHJcbiAgICAgIGxldCAkZGlhbG9nID0gJCgnPGRpdiAvPicsIHtcclxuICAgICAgICB0ZXh0OiAn0JLRiyDQtNC10LnRgdGC0LLQuNGC0LXQu9GM0L3QviDRhdC40YLQuNGC0LUg0L7Rh9C40YHRgtC40YLRjCDQutC+0YDQt9C40L3Rgz8nLFxyXG4gICAgICAgIGNzczogeydjb2xvcic6ICdyZWQnfSxcclxuICAgICAgfSkuZGlhbG9nKHtcclxuICAgICAgICBhcHBlbmRUbzogXCJib2R5XCIsXHJcbiAgICAgICAgcG9zaXRpb246IHtteTogXCJjZW50ZXJcIiwgYXQ6IFwiY2VudGVyXCJ9LFxyXG4gICAgICAgIHRpdGxlOiAn0J7Rh9C40YHRgtC40YLRjCDQutC+0YDQt9C40L3RgycsXHJcbiAgICAgICAgcmVzaXphYmxlOiBmYWxzZSxcclxuICAgICAgICBtb2RhbDogdHJ1ZSxcclxuICAgICAgICB3aWR0aDogMzUwLFxyXG4gICAgICAgIGJ1dHRvbnM6IHtcclxuICAgICAgICAgIFwi0J7Rh9C40YHRgtC40YLRjCDQutC+0YDQt9C40L3Rg1wiOiAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYmFza2V0LmNsZWFyKCk7XHJcbiAgICAgICAgICAgICRkaWFsb2cuZGlhbG9nKFwiY2xvc2VcIik7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgQ2FuY2VsOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICRkaWFsb2cuZGlhbG9nKFwiY2xvc2VcIik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjbG9zZTogKCkgPT4gJGRpYWxvZy5yZW1vdmUoKSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvLyB0aGlzLmJhc2tldC5jbGVhcigpO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqXHJcbiAgICovXHJcbiAgZHJvcHBJbml0KCkge1xyXG4gICAgdGhpcy4kRWxlbURyb3BCYXNrZXQgPSAkKCc8ZGl2IC8+Jywge1xyXG4gICAgICBpZDogJ2Jhc2tldCcsXHJcbiAgICB9KS5hcHBlbmRUbygkKCdib2R5JykpXHJcbiAgICAgIC5hcHBlbmQoJCgnPGRpdiAvPicsIHtcclxuICAgICAgICB0ZXh0OiAn0JTQu9GPINC00L7QsdCw0LLQu9C10L3QuNGPINCyINC60L7RgNC30LjQvdGDINC/0LXRgNC10YLQsNGJ0LjRgtC1INGB0YPQtNCwINGC0L7QstCw0YAhJyxcclxuICAgICAgICBjbGFzczogJ2Ryb3BwLWJhc2tldC10ZXh0J1xyXG4gICAgICB9KSk7XHJcblxyXG4gICAgLy/QlNC+0LHQsNCy0LvQtdC90LjQtSDRgtC+0LLQsNGA0LAg0LIg0LrQsNGA0LfQuNC90YMg0L/QtdGA0LXRgtCw0YHQutC40LLQsNC90LjQtdC8XHJcbiAgICAkKCcucHJvZHVjdC1pdGVtJykuZHJhZ2dhYmxlKHtcclxuICAgICAgaGVscGVyOiAnY2xvbmUnLFxyXG4gICAgICBzY29wZTogJ2dvb2QnLFxyXG4gICAgICBhZGRDbGFzc2VzOiB0cnVlLFxyXG4gICAgICBjdXJzb3JBdDoge2xlZnQ6IDUwLCB0b3A6IDUwfSxcclxuICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcclxuICAgICAgc3RhcnQ6IChldmVudCwgdWkpID0+IHtcclxuICAgICAgICB1aS5oZWxwZXIuYWRkQ2xhc3MoJ3VpLWRyYWctYWN0aXZhdGVfZ29vZCcpO1xyXG4gICAgICAgIHRoaXMuJEVsZW1Ecm9wQmFza2V0LmFkZENsYXNzKCdiYXNrZXQtZHJvcHAnLCA1MDApO1xyXG4gICAgICB9LFxyXG4gICAgICBzdG9wOiAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy4kRWxlbURyb3BCYXNrZXQucmVtb3ZlQ2xhc3MoJ2Jhc2tldC1kcm9wcCcsIDUwMCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgICQoJyNiYXNrZXQnKS5kcm9wcGFibGUoe1xyXG4gICAgICBhY3RpdmVDbGFzczogJ3VpLWRyYWctYWN0aXZhdGVfYmFza2V0JyxcclxuICAgICAgc2NvcGU6ICdnb29kJyxcclxuICAgICAgdG9sZXJhbmNlOiBcInBvaW50ZXJcIixcclxuICAgICAgZHJvcDogKGV2ZW50LCB1aSkgPT4ge1xyXG4gICAgICAgIHRoaXMuZ29vZEFkZFRvQmFza2V0KHVpLmRyYWdnYWJsZSk7XHJcbiAgICAgICAgdGhpcy5zaG93RGlhbG9nKCk7XHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKlxyXG4gICAqL1xyXG4gIHNob3dEaWFsb2coKSB7XHJcbiAgICBsZXQgJGRpYWxvZyA9ICQoJzxkaXYgLz4nLCB7XHJcbiAgICAgIHRleHQ6ICfQotC+0LLQsNGAINC00L7QsdCw0LLQu9C10L0g0LIg0LrQvtGA0LfQuNC90YMnXHJcbiAgICB9KS5kaWFsb2coe1xyXG4gICAgICBhcHBlbmRUbzogXCJib2R5XCIsXHJcbiAgICAgIGhpZGU6IHtlZmZlY3Q6IFwic2NhbGVcIiwgZHVyYXRpb246IDUwMH0sXHJcbiAgICAgIHBvc2l0aW9uOiB7bXk6IFwiY2VudGVyIHRvcFwiLCBhdDogXCJjZW50ZXIgdG9wKzUwcHhcIn0sXHJcbiAgICAgIGNsb3NlOiAoKSA9PiAkZGlhbG9nLnJlbW92ZSgpLFxyXG4gICAgfSk7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgJGRpYWxvZy5kaWFsb2coJ2Nsb3NlJyk7XHJcbiAgICB9LCAxMDAwKTtcclxuICB9LFxyXG59O1xyXG5cclxuJChkb2N1bWVudCkucmVhZHkoKCkgPT4gYmFza2V0UnVuLmluaXQoKSk7IiwiLyoqXG4gKiDQmtC70LDRgdGBINGA0LXQsNC70LjQt9GD0LXRgiDQsdC70L7QuiDQutC+0LzQvNC10L3RgtCw0YDQuNGPINC4INCy0YvQstC+0LQg0LXQs9C+INC90LAg0YHRgtGA0LDQvdC40YbRgy5cbiAqL1xuY2xhc3MgQ29tbWVudCB7XG5cbiAgLyoqXG4gICAqINCa0L7QvdGB0YLRgNGD0LrRgtC+0YAg0LrQu9Cw0YHRgdCwLlxuICAgKiBAcGFyYW0ge2ludH0gY29tbWVudElkIGlkINC60L7QvNC80LXQvdGC0LDRgNC40Y8g0LIg0LHRi9C30LUg0LTQsNC90L3Ri9GFLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSDQuNC80Y8g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPLCDQvtGB0YLQsNCy0LjQstGI0LXQs9C+INC60L7QvNC80LXQvdGC0LDRgNC40LkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlINGC0LXQutGB0YIg0LrQvtC80LzQtdC90YLQsNGA0LjRjy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvbW1lbnRJZCwgbmFtZSwgbWVzc2FnZSkge1xuICAgIC8vIHRoaXMuaWRfdXNlciA9IHVzZXJJZDtcbiAgICB0aGlzLnRleHQgPSBtZXNzYWdlO1xuICAgIHRoaXMuaWRfY29tbWVudCA9IGNvbW1lbnRJZDtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuY2xhc3NDb250YWluZXIgPSAnY29tbWVudC1pdGVtJztcbiAgICB0aGlzLmNsYXNzTmFtZSA9ICdjb21tZW50LWl0ZW1fbmFtZSc7XG4gICAgdGhpcy5jbGFzc01lc3NhZ2UgPSAnY29tbWVudC1pdGVtX21lc3NhZ2UnO1xuICAgIHRoaXMuY2xhc3NEZWxCdG4gPSAnY29tbWVudC1pdGVtX2RlbC1idG4nO1xuICAgIHRoaXMuY2xhc3NBcHByb3ZlbEJ0biA9ICdjb21tZW50LWl0ZW1fYXBwcm92ZS1idG4nO1xuICB9XG5cbiAgLyoqXG4gICAqINCh0L7QsdC40YDQsNC10YIg0LHQu9C+0Log0YEg0LrQvtC80LzQtdC90YLQsNGA0LjQtdC8INC4INCy0YvQstC+0LTQuNGCINC10LPQviDQvdCwINGB0YLRgNCw0L3QuNGG0YMuXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSAkalF1ZXJ5RWxlbWVudCDRjdC70LXQvNC10L3Rgi3QvtCx0LXRgNGC0LrQsCDQsiDQutC+0YLQvtGA0YPRjiDQstGL0LLQvtC00LjQvCDQutC+0LzQvNC10L3RgtCw0YDQuNC4LlxuICAgKi9cbiAgcmVuZGVyKCRqUXVlcnlFbGVtZW50KSB7XG4gICAgY29uc3QgJGNvbnRhaW5lckNvbW1lbnQgPSAkKCc8ZGl2IC8+Jywge1xuICAgICAgY2xhc3M6IHRoaXMuY2xhc3NDb250YWluZXIsXG4gICAgICAnZGF0YS1pZCc6IHRoaXMuaWRfY29tbWVudCxcbiAgICAgICdkYXRhLWFwcHJvdmVkJzogZmFsc2UsXG4gICAgfSk7XG4gICAgY29uc3QgJG5hbWVDb21tZW50ID0gJCgnPHAgLz4nLCB7XG4gICAgICBjbGFzczogdGhpcy5jbGFzc05hbWUsXG4gICAgICB0ZXh0OiB0aGlzLm5hbWUsXG4gICAgfSk7XG4gICAgY29uc3QgJG1lc3NhZ2VDb21tZW50ID0gJCgnPHAgLz4nLCB7XG4gICAgICBjbGFzczogdGhpcy5jbGFzc01lc3NhZ2UsXG4gICAgICB0ZXh0OiB0aGlzLnRleHQsXG4gICAgfSk7XG4gICAgY29uc3QgJGRlbEJ0bkNvbW1lbnQgPSAkKCc8YnV0dG9uIC8+Jywge1xuICAgICAgY2xhc3M6IHRoaXMuY2xhc3NEZWxCdG4sXG4gICAgICAnZGF0YS1pZCc6IHRoaXMuaWRfY29tbWVudCxcbiAgICAgICdkYXRhLXR5cGUnOiAnZGVsJyxcbiAgICAgIHRleHQ6ICfQo9C00LDQu9C40YLRjCcsXG4gICAgfSk7XG4gICAgY29uc3QgJGFwcHJvdmVCdG5Db21tZW50ID0gJCgnPGJ1dHRvbiAvPicsIHtcbiAgICAgIGNsYXNzOiB0aGlzLmNsYXNzQXBwcm92ZWxCdG4sXG4gICAgICAnZGF0YS1pZCc6IHRoaXMuaWRfY29tbWVudCxcbiAgICAgICdkYXRhLXR5cGUnOiAnYXBwJyxcbiAgICAgIHRleHQ6ICfQntC00L7QsdGA0LjRgtGMJyxcbiAgICB9KTtcbiAgICAkY29udGFpbmVyQ29tbWVudFxuICAgICAgLmFwcGVuZCgkbmFtZUNvbW1lbnQpXG4gICAgICAuYXBwZW5kKCRtZXNzYWdlQ29tbWVudClcbiAgICAgIC5hcHBlbmQoJGRlbEJ0bkNvbW1lbnQpXG4gICAgICAuYXBwZW5kKCRhcHByb3ZlQnRuQ29tbWVudClcbiAgICAgIC5hcHBlbmRUbygkalF1ZXJ5RWxlbWVudCk7XG4gIH1cbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiDQntCx0LHRitC10LrRgiDRgSDQvdCw0YHRgtGA0L7QudC60LDQvNC4INC00LvRjyDRgNCw0LHQvtGC0Ysg0YHQutGA0LjQv9GC0LAuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gaWRDb250YWluZXIgaWQg0Y3Qu9C10LzQtdC90YLQsCDQvtGB0L3QvtCy0L3QvtCz0L4g0LrQvtC90YLQtdC50L3QtdGA0LBcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZENvbW1lbnRCbG9jayBpZCDRjdC70LXQvNC10L3RgtCwINC60L7QvdGC0LXQudC90LXRgNCwINC00LvRjyDQstGL0LLQvtC00LAg0LrQvtC80LzQtdC90YLQsNGA0LjQtdCyLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGNsYXNzQ29tbWVudEFwcHJvdmVkIGNsYXNzINC/0YDQuNGB0LLQsNC10LLQsNC10LzRi9C5INC+0LTQvtCx0YDQtdC90L3QvtC80YMg0LrQvtC80LzQtdC90YLQsNGA0LjRji5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB1cmxHZXRBbGxDb21tZW50cyDQv9GD0YLRjCDQuiDRhNCw0LnQu9GDKNC30LDQs9C70YPRiNC60LUpIEpTT04g0L7RgtCy0LXRgtCwINGB0LXRgNCy0LXRgNCwINC/0YDQuCDQv9C+0LvRg9GH0LXQvdC40Lgg0LrQvtC80LzQtdC90YLQsNGA0LjQtdCyLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHVybERlbENvbW1lbnQg0L/Rg9GC0Ywg0Log0YTQsNC50LvRgyjQt9Cw0LPQu9GD0YjQutC1KSBKU09OINC+0YLQstC10YLQsCDRgdC10YDQstC10YDQsCDQv9GA0Lgg0YPQtNCw0LvQtdC90LjQuCDQutC+0LzQvNC10L3RgtCw0YDQuNGPLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHVybEFwcHJvdmFsQ29tbWVudCDQv9GD0YLRjCDQuiDRhNCw0LnQu9GDKNC30LDQs9C70YPRiNC60LUpIEpTT04g0L7RgtCy0LXRgtCwINGB0LXRgNCy0LXRgNCwINC/0YDQuCDQvtC00L7QsdGA0LXQvdC40Lgg0LrQvtC80LzQtdC90YLQsNGA0LjRjy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB1cmxBZGRDb21tZW50INC/0YPRgtGMINC6INGE0LDQudC70YMo0LfQsNCz0LvRg9GI0LrQtSkgSlNPTiDQvtGC0LLQtdGC0LAg0YHQtdGA0LLQtdGA0LAg0L/RgNC4INC00L7QsdCw0LLQu9C10L3QuNC4INC60L7QvNC80LXQvdGC0LDRgNC40Y8uXG4gKi9cbmNvbnN0IHNldHRpbmdzID0ge1xuICBpZENvbnRhaW5lcjogJ2NvbnRhaW5lcicsXG4gIGlkQ29tbWVudEJsb2NrOiAnY29tbWVudF93cmFwcGVyJyxcbiAgY2xhc3NDb21tZW50QXBwcm92ZWQ6ICdhcHByb3ZlZCcsXG4gIHVybEdldEFsbENvbW1lbnRzOiAnanNvbi9yZXZpZXcubGlzdC5qc29uJyxcbiAgdXJsRGVsQ29tbWVudDogJ2pzb24vcmV2aWV3LmRlbGV0ZS5qc29uJyxcbiAgdXJsQXBwcm92YWxDb21tZW50OiAnanNvbi9yZXZpZXcuc3VibWl0Lmpzb24nLFxuICB1cmxBZGRDb21tZW50OiAnanNvbi9yZXZpZXcuYWRkLmpzb24nLFxufTtcblxuLyoqXG4gKiDQntCx0YrQtdC60YIg0YDQsNCx0L7RgtGLINGBINC60L7QvNC80LXQvdGC0LDRgNC40Y/QvNC4LlxuICogQHByb3BlcnR5IHtPYmplY3R9IHNldHRpbmdzINC/0L7QtNC60LvRjtGH0LXQvdC40LUg0L7QsdGK0LXQutGC0LAg0YEg0L3QsNGB0YLRgNC+0LnQutCw0LzQuC5cbiAqIEBwcm9wZXJ0eSB7alF1ZXJ5fSAkZWxDb21tZW50QmxvY2sg0Y3Qu9C10LzQtdC90YIt0L7QsdC10YDRgtC60LAg0LTQu9GPINCy0YvQstC+0LTQuNC80YvRhSDQutC+0LzQvNC10L3RgtCw0YDQuNC10LIuXG4gKiBAcHJvcGVydHkge0FycmF5fSBhcnJBbGxDb21tZW50cyDQvNCw0YHRgdC40LIg0LTQu9GPINC60L7QvNC80LXQvdGC0LDRgNC40LXQsiwg0L/QvtC70YPRh9Cw0LXQvNGL0YUg0YEg0YHQtdGA0LLQtdGA0LAuXG4gKi9cbmNvbnN0IGNvbW1lbnRCbG9jayA9IHtcbiAgc2V0dGluZ3MsXG4gICRlbENvbW1lbnRCbG9jazogbnVsbCxcbiAgYXJyQWxsQ29tbWVudHM6IFtdLFxuXG4gIC8qKlxuICAgKiDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDQsdC70L7QutCwINGBINC60L7QvNC80LXQvdGC0LDRgNC40Y/QvNC4LCDQt9Cw0L/RgNC+0YEg0Log0YHQtdGA0LLQtdGA0YMg0LTQu9GPINC/0L7Qu9GD0YfQtdC90LjRjyDRgtC10LrRg9GJ0LjRhSDQutC+0LzQvNC10L3RgtCw0YDQuNC10LIuXG4gICAqINCf0L7Qu9GD0YfQsNC10YIg0LrQvtC80LzQtdC90YLQsNGA0LjQuCDRgSDRgdC10YDQstC10YDQsCDQuCDQvtGC0YDQuNGB0L7QstCw0LLQsNC10YIg0LjRhS5cbiAgICog0J3QsNCy0YjQuNCy0LDQtdGCINC+0LHRgNCw0LHQvtGC0YfQuNC6INGB0L7QsdGL0YLQuNGPINC90LDQttCw0YLQuNGPINC60L3QvtC/0L7Qui5cbiAgICog0JIg0YHQu9GD0YfQsNC1INC+0YjQuNCx0LrQuCDQvtGC0LLQtdGC0LAg0L7RgiDRgdC10YDQstC10YDQsCwg0LLRi9Cy0L7QtNC40YIg0YHQvtC+0LHRidC10L3QuNC1INC+0LEg0L7RiNC40LHQutC1INCyINC60L7QvdGB0L7Qu9GMLlxuICAgKi9cbiAgaW5pdCgpIHtcbiAgICB0aGlzLiRlbENvbW1lbnRCbG9jayA9ICQoYCMke3RoaXMuc2V0dGluZ3MuaWRDb21tZW50QmxvY2t9YCk7XG4gICAgJChgIyR7dGhpcy5zZXR0aW5ncy5pZENvbnRhaW5lcn1gKS5vbignY2xpY2snLCAnYnV0dG9uJywgZXZlbnQgPT4gdGhpcy5idG5DbGlja0hhbmRsZXIoZXZlbnQpKTtcbiAgICB0aGlzLmFqYXgoe1xuICAgICAgdXJsOiB0aGlzLnNldHRpbmdzLnVybEdldEFsbENvbW1lbnRzLFxuICAgICAgZGF0YTogJycsXG4gICAgICBzdWNjZXNzOiBkYXRhID0+IHtcbiAgICAgICAgaWYgKGRhdGEucmVzdWx0ICYmIGRhdGEucmVzdWx0ID09PSAwKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihg0J7RiNC40LHQutCwISDQntGC0LLQtdGCINC+0YIg0YHQtdGA0LLQtdGA0LA6ICR7ZGF0YS5lcnJvcl9tZXNzYWdlfWApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFyckFsbENvbW1lbnRzID0gZGF0YS5jb21tZW50cztcblxuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiDQntGC0YDQuNGB0L7QstGL0LLQsNC10YIg0LHQu9C+0LrQuCDRgSDQutC+0LzQvNC10L3RgtCw0YDQuNGP0LzQuCDQuNC3INC80LDRgdGB0LjQstCwINGBINC60L7QvNC80LXQvdGC0LDRgNC40Y/QvNC4LlxuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLmFyckFsbENvbW1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGZvciAoY29uc3Qgb2JqIG9mIHRoaXMuYXJyQWxsQ29tbWVudHMpIHtcbiAgICAgICAgY29uc3QgY29tbWVudCA9IG5ldyBDb21tZW50KG9iai5pZF9jb21tZW50LCBvYmoubmFtZSwgb2JqLnRleHQpO1xuICAgICAgICBjb21tZW50LnJlbmRlcih0aGlzLiRlbENvbW1lbnRCbG9jayk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiDQntCx0YDQsNCx0L7RgtGH0LjQuiDRgdC+0LHRi9GC0LjRjyDQutC70LjQutCwINC/0L4g0LrQvdC+0L/QutC1LlxuICAgKiDQntC/0YDQtdC00LXQu9GP0LXRgiDQutCw0LrQsNGPINCx0YvQu9CwINC90LDQttCw0YLQsCDQutC90L7Qv9C60LAg0Lgg0LIg0LfQsNCy0LjRgdC40LzQvtGB0YLQuCDQvtGCINGN0YLQvtCz0L4g0LfQsNC/0YPRgdC60LDQtdGCINC+0L/RgNC10LTQtdC70LXQvdC90YvQuSDQvNC10YLQvtC0LlxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCDRgdC+0LHRi9GC0LjQtSDQutC70LjQutCwINC/0L4g0LrQvdC+0L/QutC1LlxuICAgKi9cbiAgYnRuQ2xpY2tIYW5kbGVyKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LnRhcmdldC5kYXRhc2V0LnR5cGUgPT09ICdkZWwnKSB7XG4gICAgICB0aGlzLnJlbW92ZShldmVudC50YXJnZXQpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQudGFyZ2V0LmRhdGFzZXQudHlwZSA9PT0gJ2FwcCcpIHtcbiAgICAgIHRoaXMuYXBwcm92ZShldmVudC50YXJnZXQpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQudGFyZ2V0LmRhdGFzZXQudHlwZSA9PT0gJ2FkZCcpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLmFkZChldmVudC50YXJnZXQpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICog0J7QtNC+0LHRgNC10L3QuNC1INC+0L/RgNC10LTQtdC70LXQvdC90L7Qs9C+INC60L7QvNC80LXQvdGC0LDRgNC40Y8uINCe0YLQv9GA0LDQstC70Y/QtdGCIGlkINC+0LTQvtCx0YDRj9C10LzQvtCz0L4g0LrQvtC80LzQtdC90YLQsNGA0LjRjyDQvdCwINGB0LXRgNCy0LXRgCDQuCDQstGB0LvRg9GH0LDQtSDRg9C00LDRh9C90L7Qs9C+INC+0YLQstC10YLQsFxuICAgKiDQvtGCINGB0LXRgNCy0LXRgNCwINC00L7QsdCw0LLQu9GP0LXRgiDQutC70LDRgdGBINC+0LTQvtCx0YDQtdC90LjRjyDQuiDRgtC10LrRg9GJ0LXQvNGDINC60L7QvNC80LXQvdGC0LDRgNC40Y4g0Lgg0YPQtNCw0LvRj9C10YIg0LrQvdC+0L/QutGDINC+0LTQvtCx0YDQtdC90LjRjyDRgyDRgtC10LrRg9GJ0LXQs9C+INC60L7QvNC80LXQvdGC0LDRgNC40Y8uXG4gICAqINCV0YHQu9C4INGB0LXRgNCy0LXRgCDQstC10YDQvdGD0Lsg0L7RiNC40LHQutGDLCDRgtC+INCy0YvQstC+0LTQuNC8INGB0L7QvtCx0YnQtdC90LjQtSDQvtCxINC+0YjQuNCx0LrQtSDQuCDQvdC1INC/0YDQvtC40LfQstC+0LTQuNC8INC90Lgg0LrQsNC60LjQtSDQuNC30LzQtdC90LXQvdC40Y8g0YEg0LrQvtC80LzQtdC90YLQsNGA0LjQtdC8LlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtINC60L3QvtC/0LrQuCDQvtC00L7QsdGA0LXQvdC40Y8g0LHQu9C+0LrQsCDRgtC10LrRg9GJ0LXQs9C+INC60L7QvNC80LXQvdGC0LDRgNC40Y8uXG4gICAqL1xuICBhcHByb3ZlKGVsZW0pIHtcbiAgICB0aGlzLmFqYXgoe1xuICAgICAgdXJsOiB0aGlzLnNldHRpbmdzLnVybEFwcHJvdmFsQ29tbWVudCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgaWRfY29tbWVudDogZWxlbS5kYXRhc2V0LmlkXG4gICAgICB9LFxuICAgICAgc3VjY2VzczogZGF0YSA9PiB7XG4gICAgICAgIChmdW5jdGlvbiAoZGF0YSwgZWxlbSwgb2JqKSB7XG4gICAgICAgICAgaWYgKGRhdGEucmVzdWx0ICYmIGRhdGEucmVzdWx0ID09PSAxKSB7XG4gICAgICAgICAgICAkKGVsZW0pLnBhcmVudCgnLmNvbW1lbnQtaXRlbScpLmFkZENsYXNzKG9iai5zZXR0aW5ncy5jbGFzc0NvbW1lbnRBcHByb3ZlZClcbiAgICAgICAgICAgICAgLmF0dHIoJ2RhdGEtYXBwcm92ZWQnLCB0cnVlKTtcbiAgICAgICAgICAgICQoZWxlbSkucmVtb3ZlKClcblxuICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5yZXN1bHQgPT09IDApIHtcbiAgICAgICAgICAgIGFsZXJ0KGDQodC10YDQstC10YAg0LLQtdGA0L3Rg9C7INC+0YjQuNCx0LrRgzogJHtkYXRhLmVycm9yX21lc3NhZ2V9YCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KGRhdGEsIGVsZW0sIHRoaXMpKVxuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiDQo9C00LDQu9C10L3QuNC1INC+0L/RgNC10LTQtdC70LXQvdC90L7Qs9C+INC60L7QvNC80LXQvdGC0LDRgNC40Y8uINCe0YLQv9GA0LDQstC70Y/QtdGCIGlkINGD0LTQsNC70Y/QtdC80L7Qs9C+INC60L7QvNC80LXQvdGC0LDRgNC40Y8g0L3QsCDRgdC10YDQstC10YAg0Lgg0LLRgdC70YPRh9Cw0LUg0YPQtNCw0YfQvdC+0LPQviDQvtGC0LLQtdGC0LBcbiAgICog0L7RgiDRgdC10YDQstC10YDQsCDRg9C00LDQu9GP0LXRgiDQsdC70L7QuiDQtNCw0L3QvdC+0LPQviDQutC+0LzQvNC10L3RgtCw0YDQuNGPLlxuICAgKiDQldGB0LvQuCDRgdC10YDQstC10YAg0LLQtdGA0L3Rg9C7INC+0YjQuNCx0LrRgywg0YLQviDQstGL0LLQvtC00LjQvCDRgdC+0L7QsdGJ0LXQvdC40LUg0L7QsSDQvtGI0LjQsdC60LUg0Lgg0L3QtSDQv9GA0L7QuNC30LLQvtC00LjQvCDQvdC4INC60LDQutC40LUg0LjQt9C80LXQvdC10L3QuNGPINGBINC60L7QvNC80LXQvdGC0LDRgNC40LXQvC5cbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbSDQutC90L7Qv9C60Lgg0YPQtNCw0LvQtdC90LjRjyDQsdC70L7QutCwINGC0LXQutGD0YnQtdCz0L4g0LrQvtC80LzQtdC90YLQsNGA0LjRjy5cbiAgICovXG4gIHJlbW92ZShlbGVtKSB7XG4gICAgdGhpcy5hamF4KHtcbiAgICAgIHVybDogdGhpcy5zZXR0aW5ncy51cmxEZWxDb21tZW50LFxuICAgICAgZGF0YToge1xuICAgICAgICBpZF9jb21tZW50OiBlbGVtLmRhdGFzZXQuaWRcbiAgICAgIH0sXG4gICAgICBzdWNjZXNzOiBkYXRhID0+IHtcbiAgICAgICAgKGZ1bmN0aW9uIChkYXRhLCBlbGVtKSB7XG4gICAgICAgICAgaWYgKGRhdGEucmVzdWx0ICYmIGRhdGEucmVzdWx0ID09PSAxKSB7XG4gICAgICAgICAgICAkKGVsZW0pLnBhcmVudChgLmNvbW1lbnQtaXRlbWApLnJlbW92ZSgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5yZXN1bHQgPT09IDApIHtcbiAgICAgICAgICAgIGFsZXJ0KGDQodC10YDQstC10YAg0LLQtdGA0L3Rg9C7INC+0YjQuNCx0LrRgzogJHtkYXRhLmVycm9yX21lc3NhZ2V9YCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KGRhdGEsIGVsZW0pKVxuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiDQlNC+0LHQsNCy0LvQtdC90LjQtSDQvdC+0LLQvtCz0L4g0LrQvtC80LzQtdC90YLQsNGA0LjRjy4g0JXRgdC70Lgg0LTQvtGB0YLRg9C/0LXQvSDRgdC60YDQuNC/0YIg0LTQu9GPINCy0LDQu9C40LTQsNGG0LjQuCDRhNC+0YDQvNGLLCDRgtC+INC30LDRg9GB0LrQsNC10YIg0LLQsNC70LjQtNCw0YbQuNGOINC4INC/0YDQuCDQv9GA0L7RhdC+0LbQtNC10L3QuNC4XG4gICAqINCy0LDQu9C40LTQsNGG0LjQuCDQvtGC0L/RgNCw0LLQu9GP0LXRgiDQtNCw0L3QvdGL0LUg0L3QvtCy0L7Qs9C+INC60L7QvNC80LXQvdGC0LDRgNC40Y8g0L3QsCDRgdC10YDQstC10YAg0Lgg0LLRgdC70YPRh9Cw0LUg0YPQtNCw0YfQvdC+0LPQviDQvtGC0LLQtdGC0LAg0L7RgiDRgdC10YDQstC10YDQsCDQtNC+0LHQsNCy0LvRj9C10YIg0LHQu9C+0LpcbiAgICog0L3QvtCy0L7Qs9C+INC60L7QvNC80LXQvdGC0LDRgNC40Y8g0L3QviDRgdGC0YDQsNC90LjRhtGDLlxuICAgKiDQldGB0LvQuCDRgdC60YDQuNC/INCy0LDQu9C40LTQsNGG0LjQuCDQvdC1INC00L7RgdGC0YPQv9C10L0sINGC0L4g0L3QtSDQv9GA0L7QuNC30LLQvtC00LjRgiDQv9GA0L7RhtC10YHRgSDQstCw0LvQuNC00LDRhtC40Lgg0Lgg0L/QtdGA0LXRhdC+0LTQuNGCINC6INC+0YLQv9GA0LDQstC60LUg0LTQsNC90L3Ri9GFLlxuICAgKiDQldGB0LvQuCDRgdC10YDQstC10YAg0LLQtdGA0L3Rg9C7INC+0YjQuNCx0LrRgywg0YLQviDQstGL0LLQvtC00LjQvCDRgdC+0L7QsdGJ0LXQvdC40LUg0L7QsSDQvtGI0LjQsdC60LUg0Lgg0L3QtSDQv9GA0L7QuNC30LLQvtC00LjQvCDQvdC4INC60LDQutC40LUg0LTQtdC50YHRgtCy0LjRjyDRgSDQutC+0LzQvNC10L3RgtCw0YDQuNC10LwuXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW0g0LrQvdC+0L/QutC4INC+0YLQv9GA0LDQstC60Lgg0LTQsNC90L3Ri9GFINGE0L7RgNC80YsuXG4gICAqL1xuICBhZGQoZWxlbSkge1xuICAgIGlmICh2YWxpZGF0ZUZvcm0pIHtcbiAgICAgIGlmICghdmFsaWRhdGVGb3JtLnN0YXJ0VmFsaWRhdGUoJChlbGVtKS5wYXJlbnRzKCdmb3JtJykpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQoZWxlbSkucGFyZW50cygnZm9ybScpLmZpbmQoYC4ke3ZhbGlkYXRlRm9ybS5jbGFzc1ZhbGlkYXRlSW5wdXR9YCkucmVtb3ZlQ2xhc3ModmFsaWRhdGVGb3JtLmNsYXNzVmFsaWRhdGVJbnB1dCk7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCB1c2VyTmFtZUlucHV0ID0gJChlbGVtKS5zaWJsaW5ncyhgI25hbWVVc2VyYCk7XG4gICAgbGV0IHVzZXJNZXNzYWdlSW5wdXQgPSAkKGVsZW0pLnNpYmxpbmdzKGAjY29tbWVudFVzZXJgKTtcbiAgICBsZXQgdXNlck5hbWUgPSB1c2VyTmFtZUlucHV0LnZhbCgpO1xuICAgIGxldCB1c2VyTWVzc2FnZSA9IHVzZXJNZXNzYWdlSW5wdXQudmFsKCk7XG4gICAgaWYgKHVzZXJOYW1lICYmIHVzZXJNZXNzYWdlKSB7XG4gICAgICBsZXQgdXNlcklkID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwICogdXNlck5hbWUubGVuZ3RoKTtcbiAgICAgIHRoaXMuYWpheCh7XG4gICAgICAgIHVybDogdGhpcy5zZXR0aW5ncy51cmxBZGRDb21tZW50LFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgaWRfdXNlcjogdXNlcklkLFxuICAgICAgICAgIG5hbWU6IHVzZXJOYW1lLFxuICAgICAgICAgIHRleHQ6IHVzZXJNZXNzYWdlXG4gICAgICAgIH0sXG4gICAgICAgIHN1Y2Nlc3M6IGRhdGEgPT4ge1xuICAgICAgICAgIChmdW5jdGlvbiAoZGF0YSwgZWxlbSwgYXJyQ29tbWVudHMpIHtcbiAgICAgICAgICAgIGlmIChkYXRhLnJlc3VsdCAmJiBkYXRhLnJlc3VsdCA9PT0gMSkge1xuICAgICAgICAgICAgICBjb25zdCBuZXdDb21tZW50ID0gbmV3IENvbW1lbnQodXNlcklkLCB1c2VyTmFtZSwgdXNlck1lc3NhZ2UpO1xuICAgICAgICAgICAgICBuZXdDb21tZW50LnJlbmRlcihlbGVtKTtcbiAgICAgICAgICAgICAgYXJyQ29tbWVudHMucHVzaCh7XG4gICAgICAgICAgICAgICAgXCJpZF9jb21tZW50XCI6IHVzZXJJZCxcbiAgICAgICAgICAgICAgICBcIm5hbWVcIjogdXNlck5hbWUsXG4gICAgICAgICAgICAgICAgXCJ0ZXh0XCI6IHVzZXJNZXNzYWdlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB1c2VyTmFtZUlucHV0LnZhbCgnJyk7XG4gICAgICAgICAgICAgIHVzZXJNZXNzYWdlSW5wdXQudmFsKCcnKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5yZXN1bHQgPT09IDApIHtcbiAgICAgICAgICAgICAgYWxlcnQoYNCh0LXRgNCy0LXRgCDQstC10YDQvdGD0Lsg0L7RiNC40LHQutGDOiAke2RhdGEuZXJyb3JfbWVzc2FnZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KGRhdGEsIHRoaXMuJGVsQ29tbWVudEJsb2NrLCB0aGlzLmFyckFsbENvbW1lbnRzKSlcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiDQntCx0LXRgNGC0LrQsCDQtNC70Y8gYWpheCDQt9Cw0L/RgNC+0YHQsC5cbiAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtINC/0LDRgNCw0LzQtdGC0YDRiyDQt9Cw0L/RgNC+0YHQsC5cbiAgICovXG4gIGFqYXgocGFyYW0pIHtcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiBwYXJhbS51cmwsXG4gICAgICB0eXBlOiAnR0VUJyxcbiAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICBkYXRhOiBwYXJhbS5kYXRhLFxuICAgICAgc3VjY2VzczogcGFyYW0uc3VjY2VzcyxcbiAgICAgIGVycm9yOiAoZGF0YSwgdGV4dFN0YXR1cywganFYSFIpID0+IGNvbnNvbGUuZXJyb3IodGV4dFN0YXR1cywganFYSFIpLFxuICAgIH0pO1xuICB9LFxuXG59OyIsIlwidXNlIHN0cmljdFwiO1xuLypcbmNvbnN0IGJpcnRoZGF5SW5wdXQgPSB7XG4gIGlkSW5wdXREYXRlcGlja2VyOiAnYmlydGhkYXknLFxuICBlcnJvck1lc3NhZ2U6ICfQktCy0LXQtNC40YLQtSDQtNCw0YLRgyDRgNC+0LbQtNC10L3QuNGPINCyINGE0L7RgNC80LDRgtC1IFwi0LTQtC/QvNC8L9Cz0LPQs9CzXCInLFxuICByZWdFeHBDaXR5OiAvXlswLTNdWzAtOV1cXC9bMDFdWzAtOV1cXC9bMTJdWzAtOV17M30kLyxcblxuICBpbml0KCkge1xuICAgICQoYCMke3RoaXMuaWRJbnB1dERhdGVwaWNrZXJ9YCkuZGF0ZXBpY2tlcih7XG4gICAgICBjaGFuZ2VNb250aDogdHJ1ZSxcbiAgICAgIGNoYW5nZVllYXI6IHRydWUsXG4gICAgICBmaXJzdERheTogMSxcbiAgICAgIGRheU5hbWVzTWluOiBbJ9CS0YEnLCAn0J/QvScsICfQktGCJywgJ9Ch0YAnLCAn0KfRgicsICfQn9GCJywgJ9Ch0LEnXSxcbiAgICAgIGRheU5hbWVzOiBbJ9CS0L7RgdC60YDQtdGB0LXQvdGM0LUnLCAn0J/QvtC90LXQtNC10LvRjNC90LjQuicsICfQktGC0L7RgNC90LjQuicsICfQodGA0LXQtNCwJywgJ9Cn0LXRgtCy0LXRgNCzJywgJ9Cf0Y/RgtC90LjRhtCwJywgJ9Ch0YPQsdCx0L7RgtCwJ10sXG4gICAgICBkYXRlRm9ybWF0OiAnZGQvbW0veXknLFxuICAgICAgbW9udGhOYW1lc1Nob3J0OiBbJ9Cv0L3QsicsICfQpNC10LInLCAn0JzQsNGAJywgJ9CQ0L/RgCcsICfQnNCw0LknLCAn0JjRjtC9JywgJ9CY0Y7QuycsICfQkNCy0LMnLCAn0KHQtdC9JywgJ9Ce0LrRgicsICfQndC+0Y8nLCAn0JTQtdC6J10sXG4gICAgfSk7XG4gIH0sXG5cbiAgdmFsaWRhdGUoZWxlbSkge1xuICAgIHJldHVybiB0aGlzLnJlZ0V4cENpdHkudGVzdChlbGVtLnZhbHVlLnRyaW0oKSk7XG4gIH0sXG59O1xuKi9cblxuLypcbi8hKipcbiAqINCe0LHRgNCw0LHQsNGC0YvQstCw0LXRgiBpbnB1dCDQtNC70Y8g0LLQstC+0LTQsCDQs9C+0YDQvtC00LAsINC/0YDQuCDQstCy0L7QtNC1INC90LDQt9Cy0LDQvdC40Y8g0LPQvtGA0L7QtNCwINC/0YDQtdC00LvQsNCz0LDQtdGCINCy0LDRgNC40LDQvdGC0YsuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gaWRJbnB1dENpdHkgaWQgSFRNTCDRjdC70LXQvNC10L3RgtCwIGlucHV0LlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGVycm9yTWVzc2FnZSDRgdC+0LTQtdGA0LbQuNGCINGB0L7QvtCx0YnQtdC90LjQtSDQvtCxINC+0YjQuNCx0LrQtSDQstCw0LvQuNC00LDRhtC40Lgg0LTQu9GPINC/0L7Qu9GPIFwi0JPQvtGA0L7QtFwiLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHVybEpTT04g0L/Rg9GC0Ywg0Log0YTQsNC50LvRgyAuanNvbiDRgSDQvtCx0YrQtdC60YLQsNC80Lgg0LPQvtGA0L7QtNC+0LIuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gaWRFbGVtTGlzdFNlYXJjaENpdHkgaWQgSFRNTCDRjdC70LXQvNC10L3RgtCwINCyINC60L7RgtC+0YDQvtC8INC/0LXRgNC00LvQsNCz0LDRjtGC0YHRjyDQstCw0YDQuNCw0L3RgtGLINCz0L7RgNC+0LTQvtCyLlxuICogQHByb3BlcnR5IHtSZWdFeHB9IHJlZ0V4cENpdHkg0YDQtdCz0YPQu9GP0YDQvdC+0LUg0LLRi9GA0LDQttC10L3QuNC1INC00LvRjyDQstCw0LvQuNC00LDRhtC40Lgg0L/QvtC70Y8gXCLQk9C+0YDQvtC0XCIuXG4gKiEvXG5jb25zdCBpbnB1dENpdHkgPSB7XG4gIGlkSW5wdXRDaXR5OiAnY2l0eScsXG4gIGVycm9yTWVzc2FnZTogJ9CS0LLQtdC00LjRgtC1INCz0L7RgNC+0LQnLFxuICB1cmxKU09OOiAnanNvbi9jaXR5Lmpzb24nLFxuICBpZEVsZW1MaXN0U2VhcmNoQ2l0eTogJ3NlYXJjaC1jaXR5JyxcbiAgcmVnRXhwQ2l0eTogL15bYS160LAt0Y/RkSBdezIsfSQvaSxcbiAgZGF0YUNpdHk6IFtdLC8vXG5cbiAgLyEqKlxuICAgKiDQktC10YjQsNC10YIg0YHQvtCx0YvRgtC40Y8g0L3QsCBpbnB1dCDQtNC70Y8g0LLQstC+0LTQsCDQs9C+0YDQvtC00LAuXG4gICAqIS9cbiAgaW5pdCgpIHtcbiAgICAkKGAjJHt0aGlzLmlkSW5wdXRDaXR5fWApLm9uKCdrZXl1cCBjbGljaycsIGV2ZW50ID0+IHRoaXMua2V5UHJlc3NIYW5kbGVyKGV2ZW50KSk7XG4gICAgLy8gLm9uKCcgZm9jdXNvdXQnLCAoKSA9PiB0aGlzLm91dE9wdGlvbkNpdGllcyhudWxsLCB0cnVlKSk7XG5cbiAgICAkLmdldEpTT04odGhpcy51cmxKU09OLCAoZGF0YSkgPT4gdGhpcy5kYXRhQ2l0eSA9IGRhdGEpOy8vXG4gIH0sXG5cbiAgLyEqKlxuICAgKiDQntCx0YDQsNCx0L7RgtGH0LjQuiDRgdC+0LHRi9GC0LjRjyDQvdCw0LbQsNGC0LjRjyDQvdCwINC60L3QvtC/0LrQuCDQutC70LDQstC40LDRgtGD0YDRiyDQv9GA0Lgg0LLQstC+0LTQtSDQvdCw0LfQstCw0L3QuNGPINCz0L7RgNC+0LTQsC5cbiAgICog0JXRgdC70Lgg0YHQuNC80LLQvtC70L7QsiDQstCy0LXQtNC10L3QviDQvNC10L3RjNGI0LUgMyDRgtC+INGD0LTQsNC70Y/QtdC8INC+0LrQvdC+INGBINC/0YDQtdC00LvQvtCz0LDQtdC80YvQvCDRgdC/0LjRgdC60L7QvCDQs9C+0YDQvtC00L7Qsiwg0LXRgdC70Lgg0L7QvSDQtdGB0YLRjC5cbiAgICog0JXRgdC70Lgg0YHQuNC80LLQvtC70L7QsiDQstCy0LXQtNC10L3QviAzINC4INCx0L7Qu9GM0YjQtSwg0L7RgtC/0YDQsNCy0LvRj9C10YIg0LfQsNC/0YDQvtGBINC90LAg0L/QvtC70YPRh9C10L3QuNGPINC80LDRgdGB0LjQstCwINGBINC+0LHRitC10LrRgtCw0LzQuCDQs9C+0YDQvtC00L7QsixcbiAgICog0LjQvdC40YbQuNCw0LvQuNC30LjRgNGD0LXRgiDRgNC10LPRg9C70Y/RgNC90L7QtSDQstGL0YDQsNC20LXQvdC40LUg0Lgg0LLRi9C30YvQstCw0LXRgiDRhNGD0L3QutGG0LjRjiDQtNC70Y8g0L/QsNGA0YHQuNC90LrQsCDQvNCw0YHRgdC40LLQsCDRgSDQs9C+0YDQvtC00LDQvNC4LlxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCDRgdC+0LHRi9GC0LjQtSDQv9GA0L7QuNC30L7RiNC10LTRiNC10LUg0LIg0L/QvtC70LUg0LLQstC+0LTQsCDQvdCw0LfQstCw0L3QuNGPINCz0L7RgNC+0LTQsC5cbiAgICohL1xuICBrZXlQcmVzc0hhbmRsZXIoZXZlbnQpIHtcbiAgICBjb25zdCBpbnB1dCA9IGV2ZW50LnRhcmdldDtcbiAgICBjb25zdCBkYXRhVXNlciA9IGlucHV0LnZhbHVlO1xuICAgIGlmIChkYXRhVXNlci5sZW5ndGggPCAzKSB7XG4gICAgICB0aGlzLm91dE9wdGlvbkNpdGllcyhudWxsLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcmVnRXhwID0gbmV3IFJlZ0V4cChgXiR7ZGF0YVVzZXJ9W1xcd9CwLdGP0ZEgXXswLH1gLCAnaScpO1xuXG4gICAgICB0aGlzLnBhcnNKU09OKHRoaXMuZGF0YUNpdHksIHJlZ0V4cCk7Ly9cblxuICAgICAgLy8gJC5nZXRKU09OKHRoaXMudXJsSlNPTiwgKGRhdGEpID0+IHRoaXMucGFyc0pTT04oZGF0YSwgcmVnRXhwKSk7XG4gICAgfVxuICB9LFxuXG4gIC8hKipcbiAgICog0J/QsNGA0YHQuNGCINC80LDRgdGB0LjQsiDRgSDQvtCx0YrQtdC60YLQsNC80Lgg0LPQvtGA0L7QtNC+0LIg0L/RgNC+0LLQtdGA0Y/RjyDQutCw0LbQtNC+0LUg0L3QsNC30LLQsNC90LjQtSDQs9C+0YDQvtC00LAg0L3QsCDRgdC+0L7RgtCy0LXRgdGC0LLQuNC1INGA0LXQs9GD0LvRj9GA0L3QvtC80YMg0LLRi9GA0LDQttC10L3QuNGOXG4gICAqINC4INC40Lcg0YLQtdGFINC60L7RgtC+0YDRi9C1INC/0YDQvtC30L7QtNGP0YIg0L/RgNC+0LLQtdGA0LrRgyDQv9GAINGA0LXQs9GD0LvRj9GA0LrQtSDRgdC60LvQsNC00YvQstCw0LXRgiDQsiDQvtGC0LTQtdC70YzQvdGL0Lkg0LzQsNGB0YHQuNCyLlxuICAgKiDQl9Cw0L/Rg9GB0LrQsNC10YIg0LzQtdGC0L7QtCDQstGL0LLQvtC00LAg0Y3RgtC40YUg0LPQvtGA0L7QtNC+0LIg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GOLlxuICAgKiBAcGFyYW0ge09iamVjdFtdfSBkYXRhINC80LDRgdGB0LjQsiDQvtCx0YrQtdC60YLQvtCyINCz0L7RgNC+0LTQvtCyINC00LvRjyDQv9GA0L7QstC10YDQutC4INGA0LXQs9GD0LvRj9GA0L3Ri9C8INCy0YvRgNCw0LbQtdC90LjQtdC8LlxuICAgKiBAcGFyYW0ge09iamVjdH0gcmVnRXhwINGA0LXQs9GD0LvRj9GA0L3QvtC1INCy0YvRgNCw0LbQtdC90LjQtS5cbiAgICohL1xuICBwYXJzSlNPTihkYXRhLCByZWdFeHApIHtcbiAgICBsZXQgYXJyU2VhcmNoT2JqZWN0Q2l0eSA9IFtdO1xuICAgIGZvciAoY29uc3Qgb2JqIG9mIGRhdGEpIHtcbiAgICAgIGlmIChyZWdFeHAudGVzdChvYmoubmFtZSkpIHtcbiAgICAgICAgY29uc3Qgb2JqT3V0ID0ge307XG4gICAgICAgIGZvciAoY29uc3QgcHJvcE5hbWUgaW4gb2JqKSB7XG4gICAgICAgICAgb2JqT3V0W3Byb3BOYW1lXSA9IG9ialtwcm9wTmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFyclNlYXJjaE9iamVjdENpdHkubGVuZ3RoID4gMTApIGJyZWFrO1xuICAgICAgICBhcnJTZWFyY2hPYmplY3RDaXR5LnB1c2gob2JqT3V0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFhcnJTZWFyY2hPYmplY3RDaXR5Lmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMub3V0T3B0aW9uQ2l0aWVzKGFyclNlYXJjaE9iamVjdENpdHksIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm91dE9wdGlvbkNpdGllcyhhcnJTZWFyY2hPYmplY3RDaXR5KTtcbiAgICB9XG4gIH0sXG5cblxuICAvISoqXG4gICAqINCS0YvQstC+0LTQuNGCINC/0YDQtdC00LvQsNCz0LDQtdC80YvQuSDRgdC/0LjRgdC+0Log0LPQvtGA0L7QtNC+0LIg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GOINC40LvQuCDRgdC60YDRi9Cy0LDQtdGCINGN0YLQvtGCINGB0L/QuNGB0L7Qui5cbiAgICogQHBhcmFtIHtPYmplY3RbXX0gYXJyT2JqQ2l0aWVzINC80LDRgdGB0LjQsiDQvtCx0YrQtdC60YLQvtCyINCz0L7RgNC+0LTQvtCyINC00LvRjyDQstGL0LLQvtC00LAg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GOLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlbW92ZSDQtdGB0LvQuCB0cnVlINGC0L4g0YPQtNCw0LvRj9C10Lwg0YHQv9C40YHQvtC6INCz0L7RgNC+0LTQviwgZmFsc2Ug0LLRi9Cy0L7QtNC40LwuXG4gICAqIS9cbiAgb3V0T3B0aW9uQ2l0aWVzKGFyck9iakNpdGllcywgcmVtb3ZlID0gZmFsc2UpIHtcbiAgICBpZiAocmVtb3ZlKSB7XG4gICAgICAkKGAjJHt0aGlzLmlkRWxlbUxpc3RTZWFyY2hDaXR5fWApLnJlbW92ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCAkdWxPdXQgPSAkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJykpLmF0dHIoJ2lkJywgdGhpcy5pZEVsZW1MaXN0U2VhcmNoQ2l0eSlcbiAgICAgICAgLmNsaWNrKGV2ZW50ID0+IHRoaXMuY2xpY2tMaUhhbmRsZXIoZXZlbnQpKTtcbiAgICAgIGZvciAoY29uc3Qgb2JqIG9mIGFyck9iakNpdGllcykge1xuICAgICAgICAkdWxPdXQuYXBwZW5kKCQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKSkuYXR0cigndmFsdWUnLCBvYmouaWQpLnRleHQob2JqLm5hbWUpKTtcbiAgICAgIH1cbiAgICAgIGlmICgkKGAjJHt0aGlzLmlkRWxlbUxpc3RTZWFyY2hDaXR5fWApLmxlbmd0aCA+IDApIHtcbiAgICAgICAgJChgIyR7dGhpcy5pZEVsZW1MaXN0U2VhcmNoQ2l0eX1gKS5yZXBsYWNlV2l0aCgkdWxPdXQpO1xuICAgICAgfVxuICAgICAgJChgIyR7dGhpcy5pZElucHV0Q2l0eX1gKS5hZnRlcigkdWxPdXQpO1xuICAgIH1cbiAgfSxcblxuICBjbGlja0xpSGFuZGxlcihldmVudCkge1xuICAgIGlmIChldmVudC50YXJnZXQudGFnTmFtZSA9PT0gJ0xJJykge1xuICAgICAgJChgIyR7dGhpcy5pZElucHV0Q2l0eX1gKS52YWwoZXZlbnQudGFyZ2V0LmlubmVyVGV4dCk7XG4gICAgfVxuICAgIHRoaXMub3V0T3B0aW9uQ2l0aWVzKG51bGwsIHRydWUpO1xuICB9LFxuXG4gIC8hKipcbiAgICog0J/RgNC+0LLQvtC00LjRgiDQstCw0LvQuNC00LDRhtC40Y4g0L/QvtC70Y8gaW5wdXQuXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW0g0Y3Qu9C10LzQtdC90YIgaW5wdXQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59INCy0L7Qt9Cy0YDQsNGJ0LDQtdGCIHRydWUg0LXRgdC70Lgg0Y3Qu9C10LzQtdC90YIg0L/RgNC+0YXQvtC00LjRgiDQstCw0LvQuNC00LDRhtC40Y4g0LjQvdCw0YfQtSBmYWxzZS5cbiAgICohL1xuICB2YWxpZGF0ZVNlbGVjdChlbGVtKSB7XG4gICAgcmV0dXJuIHRoaXMucmVnRXhwQ2l0eS50ZXN0KGVsZW0udmFsdWUudHJpbSgpKTtcbiAgfSxcbn07XG4qL1xuXG5cbi8qKlxuICog0JLQsNC70LjQtNCw0YbQuNGPINGE0L7RgNC80YsuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gaWRJbnB1dE5hbWUgaWQgSFRNTCDRjdC70LXQvNC10L3RgtCwIGlucHV0INC00LvRjyDQstCy0L7QtNCwINC40LzQtdC90LguXG4gKiBAcHJvcGVydHkge3N0cmluZ30gaWRJbnB1dFBob25lIGlkIEhUTUwg0Y3Qu9C10LzQtdC90YLQsCBpbnB1dCDQtNC70Y8g0LLQstC+0LTQsCDRgtC10LvQtdGE0L7QvdCwLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGlkSW5wdXRFbWFpbCBpZCBIVE1MINGN0LvQtdC80LXQvdGC0LAgaW5wdXQg0LTQu9GPINCy0LLQvtC00LAgZW1haWwuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gaWRJbnB1dE1lc3NhZ2UgaWQgSFRNTCDRjdC70LXQvNC10L3RgtCwIGlucHV0INC00LvRjyDQstCy0L7QtNCwINGB0L7QvtCx0YnQtdC90LjRjy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZEJ0blN1Ym1pdCBpZCBIVE1MINGN0LvQtdC80LXQvdGC0LAgYnV0dG9uINC00LvRjyDQvtGC0L/RgNCw0LLQutC4INGE0L7RgNC80YsuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gY2xhc3NFbGVtT3V0RXJyIGNsYXNzIEhUTUwg0Y3Qu9C10LzQtdC90YLQsCBkaXYg0LTQu9GPINCy0YvQstC+0LTQsCDRgdC+0L7QsdGJ0LXQvdC40Y8g0L7QsSDQvtGI0LjQsdC60LUg0LLQsNC70LjQtNCw0YbQuNC4INC/0L7Qu9GPLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGNsYXNzTm9WYWxpZGF0ZUlucHV0IGNsYXNzIEhUTUwg0Y3Qu9C10LzQtdC90YLQsCBpbnB1dCDQuNC70LggdGV4dGFyZWFcbiAqINC00LvRjyDQstGL0LTQtdC70LXQvdC40Y8g0YDQsNC80LrQvtC5INCyINGB0LvRg9GH0LDQtSDQvtGI0LjQsdC60Lgg0LLQsNC70LjQtNCw0YbQuNC4INC/0L7Qu9GPLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGNsYXNzVmFsaWRhdGVJbnB1dCBjbGFzcyBIVE1MINGN0LvQtdC80LXQvdGC0LAgaW5wdXQg0LjQu9C4IHRleHRhcmVhXG4gKiDQtNC70Y8g0LLRi9C00LXQu9C10L3QuNGPINGA0LDQvNC60L7QuSDQsiDRgdC70YPRh9Cw0LUg0YPQtNCw0YfQvdC+0Lkg0LLQsNC70LjQtNCw0YbQuNC4INC/0L7Qu9GPLlxuICogQHByb3BlcnR5IHtPYmplY3R9IGVycm9yTWVzc2FnZSDQvtCx0LXQutGCINGBINGB0L7QvtCx0YnQtdC90LjRj9C80Lgg0L7QsSDQvtGI0LjQsdC60LDRhSDQstCw0LvQuNC00LDRhtC40LguXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZXJyb3JNZXNzYWdlLm5hbWUg0YHQvtC00LXRgNC20LjRgiDRgdC+0L7QsdGJ0LXQvdC40LUg0L7QsSDQvtGI0LjQsdC60LUg0LLQsNC70LjQtNCw0YbQuNC4INC00LvRjyDQv9C+0LvRjyBcItC40LzRj1wiLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGVycm9yTWVzc2FnZS5waG9uZSDRgdC+0LTQtdGA0LbQuNGCINGB0L7QvtCx0YnQtdC90LjQtSDQvtCxINC+0YjQuNCx0LrQtSDQstCw0LvQuNC00LDRhtC40Lgg0LTQu9GPINC/0L7Qu9GPIFwi0YLQtdC70LXRhNC+0L1cIi5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBlcnJvck1lc3NhZ2UubWVzc2FnZSDRgdC+0LTQtdGA0LbQuNGCINGB0L7QvtCx0YnQtdC90LjQtSDQvtCxINC+0YjQuNCx0LrQtSDQstCw0LvQuNC00LDRhtC40Lgg0LTQu9GPINC/0L7Qu9GPIFwi0YHQvtC+0LHRidC10L3QuNC1XCIuXG4gKiBAcHJvcGVydHkge1JlZ0V4cH0gcmVnRXhwTmFtZSDRgNC10LPRg9C70Y/RgNC90L7QtSDQstGL0YDQsNC20LXQvdC40LUg0LTQu9GPINCy0LDQu9C40LTQsNGG0LjQuCDQv9C+0LvRjyBcItC40LzRj1wiLlxuICogQHByb3BlcnR5IHtSZWdFeHB9IHJlZ0V4cFBob25lINGA0LXQs9GD0LvRj9GA0L3QvtC1INCy0YvRgNCw0LbQtdC90LjQtSDQtNC70Y8g0LLQsNC70LjQtNCw0YbQuNC4INC/0L7Qu9GPIFwi0YLQtdC70LXRhNC+0L1cIi5cbiAqIEBwcm9wZXJ0eSB7UmVnRXhwfSByZWdFeHBFbWFpbCDRgNC10LPRg9C70Y/RgNC90L7QtSDQstGL0YDQsNC20LXQvdC40LUg0LTQu9GPINCy0LDQu9C40LTQsNGG0LjQuCDQv9C+0LvRjyBcImVtYWlsXCIuXG4gKiBAcHJvcGVydHkge1JlZ0V4cH0gcmVnRXhwTWVzc2FnZSDRgNC10LPRg9C70Y/RgNC90L7QtSDQstGL0YDQsNC20LXQvdC40LUg0LTQu9GPINCy0LDQu9C40LTQsNGG0LjQuCDQv9C+0LvRjyBcItGB0L7QvtCx0YnQtdC90LjQtVwiLlxuICovXG5jb25zdCB2YWxpZGF0ZUZvcm0gPSB7XG4gIC8vIGJpcnRoZGF5SW5wdXQsXG4gIGlkSW5wdXROYW1lOiAnbmFtZVVzZXInLFxuICBpZElucHV0UGhvbmU6ICdwaG9uZScsXG4gIGlkSW5wdXRFbWFpbDogJ2VtYWlsJyxcbiAgaWRJbnB1dE1lc3NhZ2U6ICdjb21tZW50VXNlcicsXG4gIGlkQnRuU3VibWl0OiAnYnRuQWRkQ29tbWVudCcsXG4gIGNsYXNzRWxlbU91dEVycjogJ2Vycm9yLW1lc3NhZ2UnLFxuICBjbGFzc05vVmFsaWRhdGVJbnB1dDogJ2Vycm9yLWlucHV0JyxcbiAgY2xhc3NWYWxpZGF0ZUlucHV0OiAnc3VjY2Vzcy1pbnB1dCcsXG4gIGVycm9yTWVzc2FnZToge1xuICAgIG5hbWVVc2VyOiAn0JjQvNGPINC00L7Qu9C20L3QviDRgdC+0LTQtdGA0LbQsNGC0Ywg0YLQvtC70YzQutC+INCx0YPQutCy0YsnLFxuICAgIHBob25lOiAn0KLQtdC70LXRhNC+0L0g0LTQvtC70LbQtdC9INCx0YvRgtGMINCyINGE0L7RgNC80LDRgtC1IFwiKzcoMDAwKTAwMC0wMDAwXCInLFxuICAgIGVtYWlsOiAn0J3QtSDQutC+0YDRgNC10LrRgtC90YvQuSBlbWFpbCcsXG4gICAgY29tbWVudFVzZXI6ICfQktGLINC30LDQsdGL0LvQuCDQvdCw0L/QuNGB0LDRgtGMINC60L7QvNC80LXQvdGC0LDRgNC40LknLFxuICAgIC8qXG4gICAgICAgIGNpdHk6IGlucHV0Q2l0eS5lcnJvck1lc3NhZ2UsXG4gICAgICAgIGJpcnRoZGF5OiBiaXJ0aGRheUlucHV0LmVycm9yTWVzc2FnZSxcbiAgICAqL1xuICB9LFxuICByZWdFeHBOYW1lOiAvXlthLXrQsC3Rj9GRXXsyLH0kL2ksXG4gIHJlZ0V4cFBob25lOiAvXlxcK1xcZFxcKFxcZHszfVxcKVxcZHszfS1cXGR7NH0kLyxcbiAgcmVnRXhwRW1haWw6IC9eW2EtejAtOS1fLl0rQFthLXpdKy5bYS16XXsyLDR9JC9pLFxuICByZWdFeHBNZXNzYWdlOiAvW1xcd9CwLdGP0ZFdezMsfS8sXG5cblxuICAvKipcbiAgICog0JfQsNC/0YPRgdC6INCy0LDQu9C40LTQsNGG0LjQuCDRhNC+0YDQvNGLLlxuICAgKiDQn9GA0L7RhdC+0LTQuNGC0YHRjyDQv9C+INCy0YHQtdC8INC90YPQttC90YvQvCDRjdC70LXQvNC10L3RgtCw0Lwg0Lgg0LfQsNC/0YPRgdC60LDQtdGCINC00LvRjyDQutCw0LbQtNC+0LPQviDQstCw0LvQuNC00LDRhtC40Y4sINC10YHQu9C4INGF0L7RgtGMINC+0LTQvdCwINC10YHRgtGMINC+0YjQuNCx0LrQsCDQstCw0LvQuNC00LDRhtC40Lgg0YLQviDQstC+0LfQstGA0LDRidCw0LXQvCBmYWxzZSwg0LjQvdCw0YfQtSB0cnVlLlxuICAgKiBAcGFyYW0ge2pRdWVyeX0gZm9ybSBqUXVlcnkg0Y3Qu9C10LzQtdC90YIg0LLQsNC70LjQtNC40YDRg9C10LzQvtC5INGE0L7RgNC80YsuXG4gICAqL1xuICBzdGFydFZhbGlkYXRlKGZvcm0pIHtcbiAgICBsZXQgYXJyID0gJChmb3JtKS5maW5kKCdpbnB1dCwgdGV4dGFyZWEnKTtcbiAgICBsZXQgdmFsaWQgPSB0cnVlO1xuICAgIGZvciAobGV0IGVsZW0gb2YgYXJyKSB7XG4gICAgICBpZiAoZWxlbS5pZCA9PT0gdGhpcy5pZEJ0blN1Ym1pdCkgY29udGludWU7XG4gICAgICBsZXQgdmFsaWRhdGVSZXN1bHQgPSB0aGlzLnZhbGlkYXRlSW5wdXQoZWxlbSk7XG4gICAgICBpZiAoIXZhbGlkYXRlUmVzdWx0KSB7XG4gICAgICAgIHRoaXMub3V0TWVzc2FnZUZhaWxWYWxpZGF0ZShlbGVtKTtcbiAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub3V0TWVzc2FnZUZhaWxWYWxpZGF0ZShlbGVtLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhbGlkO1xuICB9LFxuXG4gIC8qKlxuICAgKiDQktCw0LvQuNC00LDRhtC40Y8g0LrQsNC20LTQvtCz0L4g0L/QvtC70Y8g0YHQstC+0LjQvCDRgNC10LPRg9C70Y/RgNC90YvQvCDQstGL0YDQsNC20LXQvdC40LXQvC5cbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbSDRjdC70LXQvNC10L3Rgiwg0LrQvtGC0L7RgNGL0Lkg0YLRgNC10LHRg9C10YLRgdGPINC/0YDQvtCy0LDQu9C40LTQuNGA0L7QstCw0YLRjC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0g0LLQvtC30LLRgNCw0YnQsNC10YIgdHJ1ZSDQtdGB0LvQuCDRjdC70LXQvNC10L3RgiDQv9GA0L7RhdC+0LTQuNGCINCy0LDQu9C40LTQsNGG0LjRjiDQuNC90LDRh9C1IGZhbHNlLlxuICAgKi9cbiAgdmFsaWRhdGVJbnB1dChlbGVtKSB7XG4gICAgc3dpdGNoIChlbGVtLmlkKSB7XG4gICAgICBjYXNlIHRoaXMuaWRJbnB1dE5hbWU6XG4gICAgICAgIHJldHVybiB0aGlzLnJlZ0V4cE5hbWUudGVzdChlbGVtLnZhbHVlLnRyaW0oKSk7XG5cbiAgICAgIGNhc2UgdGhpcy5pZElucHV0UGhvbmU6XG4gICAgICAgIHJldHVybiB0aGlzLnJlZ0V4cFBob25lLnRlc3QoZWxlbS52YWx1ZS50cmltKCkpO1xuXG4gICAgICBjYXNlIHRoaXMuaWRJbnB1dEVtYWlsOlxuICAgICAgICByZXR1cm4gdGhpcy5yZWdFeHBFbWFpbC50ZXN0KGVsZW0udmFsdWUudHJpbSgpKTtcblxuICAgICAgY2FzZSB0aGlzLmlkSW5wdXRNZXNzYWdlOlxuICAgICAgICByZXR1cm4gdGhpcy5yZWdFeHBNZXNzYWdlLnRlc3QoZWxlbS52YWx1ZS50cmltKCkpO1xuXG4gICAgICAvKlxuICAgICAgICAgICAgY2FzZSBpbnB1dENpdHkuaWRJbnB1dENpdHk6XG4gICAgICAgICAgICAgIHJldHVybiBpbnB1dENpdHkudmFsaWRhdGVTZWxlY3QoZWxlbSk7XG5cbiAgICAgICAgICAgIGNhc2UgdGhpcy5iaXJ0aGRheUlucHV0LmlkSW5wdXREYXRlcGlja2VyOlxuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5iaXJ0aGRheUlucHV0LnZhbGlkYXRlKGVsZW0pO1xuICAgICAgKi9cbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqINCe0YDQs9Cw0L3QuNC30YPQtdGCINCy0YvQstC+0LQg0LjQvdGE0L7RgNC80LDRhtC40Lgg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GOKNCy0LDQu9C40LTQsNGG0LjRjyDQv9GA0L7RiNC70LAg0LjQu9C4INC90LXRgilcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbSDQsiDQutC+0YLQvtGA0L7QvCDQv9GA0L7RiNC70LAg0LLQsNC70LjQtNCw0YbQuNGPINC4INC60L7RgtC+0YDRi9C5INC90LDQtNC+INC/0L7QutCw0LfQsNGC0Ywg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GOLCDQtdGB0LvQuCDQstCw0LvQuNC00LDRhtC40Y8g0YPQtNCw0YfQvdCwLCDRgtC+INC30LXQu9C10L3Ri9C5IGJvcmRlciDRgyDRjdC70LXQvNC10L3RgtCwLCDQtdGB0LvQuCDQvdC1INGD0LTQsNGH0L3QsCwg0YLQviDQutGA0LDRgdC90YvQuSBib3JkZXIg0Lgg0YHQvtC+0LHRidC10L3QuNC1INC+0LEg0L7RiNC40LHQutC1LlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbGlkYXRlINC10YHQu9C4IHRydWUg0YLQviDQtNC10LnRgdGC0LLRg9C10Lwg0L/QviDQsNC70LPQvtGA0LjRgtC80YMg0YPRgdC/0LXRhSwgZmFsc2Ug0LTQtdC50YHRgtCy0YPQtdC8INC/0L4g0LDQu9Cz0L7RgNC40YLQvNGDINC+0YjQuNCx0LrQsC5cbiAgICovXG4gIG91dE1lc3NhZ2VGYWlsVmFsaWRhdGUoZWxlbSwgdmFsaWRhdGUgPSBmYWxzZSkge1xuICAgIGxldCBlbGVtRXJyb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgZXJyb3ItJHtlbGVtLmlkfWApO1xuICAgIGlmICghdmFsaWRhdGUpIHtcbiAgICAgIGlmICghZWxlbUVycm9yKSB7XG4gICAgICAgIGVsZW1FcnJvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBlbGVtRXJyb3IuaWQgPSBgZXJyb3ItJHtlbGVtLmlkfWA7XG4gICAgICAgIGVsZW1FcnJvci5jbGFzc0xpc3QuYWRkKHRoaXMuY2xhc3NFbGVtT3V0RXJyKTtcbiAgICAgICAgZWxlbS5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShlbGVtRXJyb3IsIGVsZW0ubmV4dEVsZW1lbnRTaWJsaW5nKTtcbiAgICAgIH1cbiAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmNsYXNzVmFsaWRhdGVJbnB1dCk7XG4gICAgICBlbGVtLmNsYXNzTGlzdC5hZGQodGhpcy5jbGFzc05vVmFsaWRhdGVJbnB1dCk7XG4gICAgICBlbGVtRXJyb3IuaW5uZXJUZXh0ID0gJy0gJyArIHRoaXMuZXJyb3JNZXNzYWdlW2VsZW0uaWRdO1xuICAgICAgZWxlbS52YWx1ZSA9ICcnO1xuXG4gICAgICAkKGVsZW0pLmVmZmVjdCgnYm91bmNlJyk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGVsZW1FcnJvcikge1xuICAgICAgICBlbGVtRXJyb3IucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChlbGVtRXJyb3IpO1xuICAgICAgfVxuICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuY2xhc3NOb1ZhbGlkYXRlSW5wdXQpO1xuICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKHRoaXMuY2xhc3NWYWxpZGF0ZUlucHV0KTtcbiAgICAgIGVsZW0udmFsdWUgPSBlbGVtLnZhbHVlLnRyaW0oKTtcbiAgICB9XG4gIH0sXG59OyJdfQ==
